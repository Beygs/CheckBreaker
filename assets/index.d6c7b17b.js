const H=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function e(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(r){if(r.ep)return;r.ep=!0;const t=e(r);fetch(r.href,t)}};H();class L{constructor(i={}){typeof i.fillValue!="undefined"&&_(i.fillValue),this.dimensions=J(i.dimensions||"8x8"),this.displayEl=K(i.selector),this._data=this.getEmptyMatrix({fillValue:i.fillValue||0}),Q(this.displayEl,this._data)}getCheckboxValue(i,e){if(!(i>=0&&e>=0&&i<this.dimensions[0]&&e<this.dimensions[1]))throw new Error(`The location (x: ${i}, y: ${e}) is outside of this checkbox display`);return this._data[e][i]}setCheckboxValue(i,e,o){const r=i>=0&&e>=0&&i<this.dimensions[0]&&e<this.dimensions[1];if(_(o),!r)return;this._data[e][i]=o;const t=this.displayEl.children[e].children[i];if(o===2){if(t.indeterminate)return;t.indeterminate=!0,t.checked=!1}else{if(t.indeterminate&&(t.indeterminate=!1),t.checked===Boolean(o))return;t.checked=Boolean(o)}}getData(){return this._data.map(e=>e.slice())}setData(i,e={}){const{x:o=0,y:r=0,fillValue:t}=e,d=typeof t!="undefined",a=this.dimensions[0],l=this.dimensions[1];z(i);for(let f=0;f<l;f++)for(let h=0;h<a;h++){let s=h<o,c=f<r,g=h>=o+i[0].length,b=f>=r+i.length,w=s||c||g||b;if(w&&!d)continue;let E=w?t:i[f-r][h-o];this.setCheckboxValue(h,f,E)}}clearData(){const i=this.getEmptyMatrix();this.setData(i)}getEmptyMatrix(i={}){const{fillValue:e=0,width:o=this.dimensions[0],height:r=this.dimensions[1]}=i,t=[];for(let d=0;d<r;d++){t[d]=[];for(let a=0;a<o;a++)t[d][a]=e}return t}static extend(i={}){const{name:e,exec:o,cleanUp:r}=i;if(!e||!o)throw new Error('Your plugin must have a "name" and an "exec" function.');r&&(o.cleanUp=r),this.prototype[e]=o}}function _(n){if(!(n===0||n===1||n===2))throw new Error(`${n} is not a valid checkbox value.`)}function z(n){if(!(Array.isArray(n)&&Array.isArray(n[0])))throw new Error(`${n} is not a valid matrix.`)}function K(n="#checkboxland"){if(n instanceof Element)return n;if(typeof n=="string")return document.querySelector(n);throw new Error("Checkboxland selector is invalid.")}function J(n){const i="The dimensions you provided are invalid.";if(typeof n!="string")throw new Error(i);const e=n.split("x").map(r=>Number(r));if(!(e.length===2&&!isNaN(e[0])&&!isNaN(e[0])))throw new Error(i);return n.split("x").map(r=>Number(r))}function Q(n,i){n.innerHTML="",n.style.overflowX="auto",n.setAttribute("aria-hidden",!0),i.forEach(e=>{const o=document.createElement("div");o.style.lineHeight=.75,o.style.whiteSpace="nowrap",e.forEach(r=>{const t=document.createElement("input"),d=r===2,a=d?!1:Boolean(r);t.style.margin=0,t.style.verticalAlign="top",t.type="checkbox",t.tabIndex="-1",t.checked=a,t.indeterminate=d,o.appendChild(t)}),n.appendChild(o)})}const Z={"0":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"1":[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],"2":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"3":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"4":[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],"5":[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"6":[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"7":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],"8":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"9":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0]],":":[[0],[1],[0],[0],[0],[1],[0]]," ":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],J:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],S:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],X:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1]],Y:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,1,0],[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],j:[[0,0,0,1],[0,0,0,0],[0,0,1,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0]],k:[[1,0,0,0],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1]],l:[[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,0,1,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],"`":[[1,0,0],[0,1,0],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"~":[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],"!":[[1],[1],[1],[1],[1],[0],[1]],"@":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"&":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,0,1,0],[1,1,1,0,1]],"*":[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],"(":[[0,0,1],[0,1,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1]],")":[[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,1],[0,1,0],[1,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"[":[[1,1,1],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,1,1]],"]":[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[1,1,1]],"{":[[0,0,1],[0,1,0],[0,1,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1]],"}":[[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,1,0],[0,1,0],[1,0,0]],"|":[[1],[1],[1],[1],[1],[1],[1]],"\\":[[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"/":[[0,0,1],[0,0,1],[0,1,0],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],";":[[0,0],[0,1],[0,1],[0,0],[0,0],[0,1],[1,0]],'"':[[1,0,1],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"'":[[1,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0]],",":[[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[1,0]],".":[[0],[0],[0],[0],[0],[0],[1]],"<":[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],">":[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]]};function e0(n,i={}){const{dataOnly:e=!1,font:o=Z,x:r=0,y:t=0,fillValue:d}=i,a=typeof d!="undefined",f=n.split("").reduce((h,s)=>{const c=o[s];return t0(h,c)},[]);if(f.length===0&&f.push([]),e){if(!a)return f;let h=this.getEmptyMatrix({fillValue:d});return f.forEach((s,c)=>{s.forEach((g,b)=>{h[c+t][b+r]=g})}),h}this.setData(f,{x:r,y:t,fillValue:d})}function t0(n,i){if(n.length===0)return i;const e=[];return n.forEach((o,r)=>{e.push(o.concat([0]).concat(i[r]))}),e}var n0={name:"print",exec:e0};let Y;function i0(n,i={}){const{interval:e=200,repeat:o=!1,fillValue:r=0,callback:t=()=>{}}=i,d=this.dimensions[1],a=this.dimensions[0],l=a+n[0].length;let f=1;Y=setInterval(()=>{const h=this.getData();for(let s=0;s<d;s++)for(let c=0;c<a;c++)if(c+1===a){const b=f-(a-c),w=n[s]?typeof n[s][b]=="undefined"?r:n[s][b]:r;this.setCheckboxValue(c,s,w)}else this.setCheckboxValue(c,s,h[s][c+1]);f===l?o?f=1:(clearInterval(Y),t()):f++},e)}function r0(){clearInterval(Y)}var o0={name:"marquee",exec:i0,cleanUp:r0};let B;function a0(n,i={}){const{interval:e=200,fillValue:o=0,direction:r="ltr",callback:t=()=>{}}=i,d=this.dimensions[1],a=this.dimensions[0],l=a+1;let f=1;B=setInterval(()=>{let h,s;switch(r){case"ltr":h=f-1,s=h-1;break;case"rtl":h=a-f,s=h+1;break}for(let c=0;c<d;c++)for(let g=0;g<a;g++)if(g===h)this.setCheckboxValue(g,c,1);else if(g===s){let b=n[c]?typeof n[c][g]=="undefined"?o:n[c][g]:o;this.setCheckboxValue(g,c,b)}f===l?(clearInterval(B),t()):f++},e)}function l0(){clearInterval(B)}var c0={name:"transitionWipe",exec:a0,cleanUp:l0};function d0(n,i,e){return{invert:s0,pad:f0}[n](i,e)}function s0(n){return n.map(i=>i.map(e=>e?0:1))}function f0(n,i={}){const e=Number.isInteger(i.all),o=e?i.all:i.top,r=e?i.all:i.right,t=e?i.all:i.bottom,d=e?i.all:i.left;let a=n.map(h=>{let s=h;return d&&(s=[...Array(d).fill(0),...s]),r&&(s=[...s,...Array(r).fill(0)]),s});const l=a[0].length,f=(h,s)=>{const c=[];for(let g=0;g<h;g++)c.push(Array(s).fill(0));return c};return o&&(a=[...f(o,l),...a]),t&&(a=[...a,...f(t,l)]),a}var h0={name:"dataUtils",exec:d0};let N=null,U=null;function u0(n){U=this.displayEl,N=m0.bind(this,n),U.addEventListener("click",N)}function m0(n,i){const e=g0(U,i.target);if(!e)return;const o={x:e.x,y:e.y,checkbox:i.target};if(typeof n=="function")n(o);else if("handleEvent"in n&&typeof n.handleEvent=="function")n.handleEvent(o);else throw new TypeError("Callback should be a function or an EventListener object")}function g0(n,i){for(let e=0;e<n.children.length;e+=1){const o=n.children[e];for(let r=0;r<o.children.length;r+=1)if(o.children[r]===i)return{x:r,y:e}}return null}function v0(){U.removeEventListener("click",N)}var w0={name:"onClick",exec:u0,cleanUp:v0};const T=[[60,136,253],[255,255,255]];function p0({uint8data:n,palette:i=T,step:e=1,h:o,w:r}){for(var t=new Uint8ClampedArray(n),d=3,a=new Array([1,9,3,11],[13,5,15,7],[4,12,2,10],[16,8,14,6]),l,f,h,s,c,g,b,w,E,k,M,x,p=0;p<o;p+=e)for(var y=0;y<r;y+=e)for(s=4*y+4*p*r,l=s,f=s+1,h=s+2,t[l]+=a[y%4][p%4]*d,t[f]+=a[y%4][p%4]*d,t[h]+=a[y%4][p%4]*d,c=new Array(t[l],t[f],t[h]),g=R(c,i),b=g[0],w=g[1],E=g[2],k=0;k<e;k++)for(M=0;M<e;M++)x=s+4*k+4*r*M,t[x]=b,t[x+1]=w,t[x+2]=E;return t}function y0({uint8data:n,palette:i=T,step:e=1,h:o,w:r}){for(var t=new Uint8ClampedArray(n),d=new Uint8ClampedArray(n),a=1/8,l=function(I,A){return 4*I+4*A*r},f,h,s,c,g,b,w,E,k,M,x,p,y,u=0;u<o;u+=e)for(var m=0;m<r;m+=e)for(g=4*m+4*u*r,f=g,h=g+1,s=g+2,b=new Array(t[f],t[h],t[s]),w=R(b,i),c=[],c[f]=t[f]-w[0],c[h]=t[h]-w[1],c[s]=t[s]-w[2],t[l(m+e,u)+0]+=a*c[f],t[l(m-e,u+e)+0]+=a*c[f],t[l(m,u+e)+0]+=a*c[f],t[l(m+e,u+e)+0]+=a*c[f],t[l(m+2*e,u)+0]+=a*c[f],t[l(m,u+2*e)+0]+=a*c[f],t[l(m+e,u)+1]+=a*c[h],t[l(m-e,u+e)+1]+=a*c[h],t[l(m,u+e)+1]+=a*c[h],t[l(m+e,u+e)+1]+=a*c[h],t[l(m+2*e,u)+1]+=a*c[h],t[l(m,u+2*e)+1]+=a*c[h],t[l(m+e,u)+2]+=a*c[s],t[l(m-e,u+e)+2]+=a*c[s],t[l(m,u+e)+2]+=a*c[s],t[l(m+e,u+e)+2]+=a*c[s],t[l(m+2*e,u)+2]+=a*c[s],t[l(m,u+2*e)+2]+=a*c[s],E=w[0],k=w[1],M=w[2],x=0;x<e;x++)for(p=0;p<e;p++)y=g+4*x+4*r*p,d[y]=E,d[y+1]=k,d[y+2]=M;return d}function b0({uint8data:n,palette:i=T,step:e=1,h:o,w:r}){for(var t=new Uint8ClampedArray(n),d=new Uint8ClampedArray(n),a=1/16,l=function(I,A){return 4*I+4*A*r},f,h,s,c,g,b,w,E,k,M,x,p,y,u=0;u<o;u+=e)for(var m=0;m<r;m+=e)for(g=4*m+4*u*r,f=g,h=g+1,s=g+2,b=new Array(t[f],t[h],t[s]),w=R(b,i),c=[],c[f]=t[f]-w[0],c[h]=t[h]-w[1],c[s]=t[s]-w[2],t[l(m+e,u)]=t[l(m+e,u)]+7*a*c[f],t[l(m-e,u+1)]=t[l(m-1,u+e)]+3*a*c[f],t[l(m,u+e)]=t[l(m,u+e)]+5*a*c[f],t[l(m+e,u+e)]=t[l(m+1,u+e)]+1*a*c[f],t[l(m+e,u)+1]=t[l(m+e,u)+1]+7*a*c[h],t[l(m-e,u+e)+1]=t[l(m-e,u+e)+1]+3*a*c[h],t[l(m,u+e)+1]=t[l(m,u+e)+1]+5*a*c[h],t[l(m+e,u+e)+1]=t[l(m+e,u+e)+1]+1*a*c[h],t[l(m+e,u)+2]=t[l(m+e,u)+2]+7*a*c[s],t[l(m-e,u+e)+2]=t[l(m-e,u+e)+2]+3*a*c[s],t[l(m,u+e)+2]=t[l(m,u+e)+2]+5*a*c[s],t[l(m+e,u+e)+2]=t[l(m+e,u+e)+2]+1*a*c[s],E=w[0],k=w[1],M=w[2],x=0;x<e;x++)for(p=0;p<e;p++)y=g+4*x+4*r*p,d[y]=E,d[y+1]=k,d[y+2]=M;return d}function R(n,i){function e(t,d){return Math.sqrt(Math.pow(t[0]-d[0],2)+Math.pow(t[1]-d[1],2)+Math.pow(t[2]-d[2],2))}function o(t,d,a,l){if(a.length==2)return t(d,l)<=t(d,a[1])?l:a[1];var f=a.slice(1);return t(d,l)<=t(d,a[1])?l=l:l=a[1],o(t,d,f,l)}var r=o(e,n,i,i[0]);return r}function x0(n,i){const e=(r,t,d)=>.21*r+.72*t+.07*d,o=i/100*255;for(let r=0;r<n.length;r+=4){const t=n[r],d=n[r+1],a=n[r+2],f=e(t,d,a)>o?255:0;n[r]=f,n[r+1]=f,n[r+2]=f}return n}function E0(n,i,e){const o=i.width,r=i.height,t=i.data,d=[0,-1,0,-1,5,-1,0,-1,0],a=Math.round(Math.sqrt(d.length)),l=a*.5|0,h=n.createImageData(o,r).data;for(let s=r;s>=0;s--)for(let c=o;c>=0;c--){const g=s,b=c,w=(s*o+c)*4;let E=0,k=0,M=0,x=0;for(let p=0;p<a;p++)for(let y=0;y<a;y++){const u=g+p-l,m=b+y-l;if(u>=0&&u<r&&m>=0&&m<o){const I=(u*o+m)*4,A=d[p*a+y];E+=t[I]*A,k+=t[I+1]*A,M+=t[I+2]*A,x+=t[I+3]*A}}h[w]=E*e+t[w]*(1-e),h[w+1]=k*e+t[w+1]*(1-e),h[w+2]=M*e+t[w+2]*(1-e),h[w+3]=t[w+3]}for(let s=r;s>=0;s--){const g=(s*o+0)*4;h[g]=t[g],h[g+1]=t[g+1],h[g+2]=t[g+2],h[g+3]=t[g+3]}return h}let C,D;function P(n,i={},e){C||(C=document.createElement("canvas"),D=C.getContext("2d")),C.width=e.dimensions[0],C.height=e.dimensions[1],D.fillStyle="white",D.fillRect(0,0,C.width,C.height);const[o,r]=k0(n),[t,d]=M0(o,r,C.width,C.height);D.drawImage(n,0,0,t,d);const a=V0(D,t,d,i),l=C0(a);e.setData(l,i)}function k0(n){let i=0,e=0;switch(n.tagName){case"IMG":i=n.width,e=n.height;break;case"VIDEO":i=n.videoWidth,e=n.videoHeight;break}return[i,e]}function M0(n,i,e,o){const r=i/o,t=n/e;if(r<1&&t<1)return[n,i];const d=()=>[Math.floor(n*o/i),o],a=()=>{const l=Math.floor(i*e/n);return[e,l]};return r>t?d():a()}function V0(n,i,e,o){const{threshold:r=50,dithering:t="none"}=o;let d=n.getImageData(0,0,i,e),a;const l={ordered:p0,atkinson:y0,errorDiffusion:b0};return t==="none"?a=x0(d.data,r):(a=E0(n,d,r/100),a=l[t]({uint8data:a,w:i,h:e})),d.data.set(a),d}function C0(n){const i=[],e=n.width;for(let o=0;o<n.data.length;o+=4){const r=o/4,t=Math.floor(r/e),d=r%e;d===0&&(i[t]=[]),i[t][d]=n.data[o]===255?0:1}return i}function I0(n,i){const e=this;let o;typeof n=="string"?(o=new Image,o.crossOrigin="anonymous",o.addEventListener("load",()=>P(o,i,e),{once:!0}),o.src=n):typeof n=="object"&&(n.complete?P(n,i,e):n.addEventListener("load",()=>P(n,i,e),{once:!0}))}var A0={name:"renderImage",exec:I0};let F;function L0(n,i){const e=this;let o;typeof n=="string"?(o=document.createElement("video"),o.loop=!0,o.controls=!0,o.autoplay=!0,o.muted=!0,o.crossOrigin="anonymous",o.addEventListener("loadeddata",()=>{o.play(),O(o,i,e)},{once:!0}),o.src=n):typeof n=="object"&&(n.readyState===4?O(n,i,e):n.addEventListener("loadeddata",()=>O(n,i,e),{once:!0}))}function O(n,i,e){P(n,i,e),F=requestAnimationFrame(()=>O(n,i,e))}function D0(){cancelAnimationFrame(F)}var P0={name:"renderVideo",exec:L0,cleanUp:D0};L.extend(n0);L.extend(o0);L.extend(c0);L.extend(h0);L.extend(w0);L.extend(A0);L.extend(P0);const O0=Object.freeze([{top:2,left:2,width:12,height:2},{top:6,left:2,width:12,height:2},{top:10,left:2,width:12,height:2},{top:2,left:18,width:12,height:2},{top:6,left:18,width:12,height:2},{top:10,left:18,width:12,height:2},{top:2,left:34,width:12,height:2},{top:6,left:34,width:12,height:2},{top:10,left:34,width:12,height:2},{top:2,left:50,width:12,height:2},{top:6,left:50,width:12,height:2},{top:10,left:50,width:12,height:2}]);const $=document.body,U0=document.querySelector("#app"),V={width:64,height:64,interval:70,directionsMap:{ArrowLeft:"left",ArrowRight:"right"},bricks:O0},X=new L({dimensions:`${V.width}x${V.height}`,selector:U0}),v={direction:"",paddle:[],ball:[],bricks:[],ballVelocity:{dx:1,dy:1},gameMap:X.getEmptyMatrix(),intervalId:void 0},W=()=>{$0(),$.addEventListener("keydown",G)},$0=()=>{v.paddle=[],v.ball=[];const n=V.height-3,i=Math.floor(V.width/2)-6;for(let r=n;r>=n-1;r--)for(let t=i;t<V.width-i;t++)v.paddle.push({x:t,y:r});const e=n-2,o=Math.floor(V.width/2)-1;for(let r=e;r>=e-1;r--)for(let t=o;t<=o+1;t++)v.ball.push({x:t,y:r});V.bricks.forEach(r=>{const{top:t,left:d,width:a,height:l}=r;for(let f=t;f<t+l;f++){const h=[];for(let s=d;s<d+a;s++)h.push({x:s,y:f});v.bricks.push(h)}})},G=()=>{$.removeEventListener("keydown",G),$.addEventListener("keydown",j),v.intervalId=setInterval(X0,V.interval)},X0=()=>{B0(),N0(),v.direction="",S()},Y0=()=>{alert("Game Over!"),$.removeEventListener("keydown",j),clearInterval(v.intervalId),v.gameMap=X.getEmptyMatrix(),S(),W()},B0=()=>{const n=q(v.paddle);if(v.direction==="left"){if(n.minX===0)return;v.paddle.map(i=>i.x--)}if(v.direction==="right"){if(n.maxX===V.width-1)return;v.paddle.map(i=>i.x++)}},N0=()=>{const n=q(v.ball),i=q(v.paddle);if(n.minX===0&&(v.ballVelocity.dx*=-1),n.maxX===V.width-1&&(v.ballVelocity.dx*=-1),n.minY===0&&(v.ballVelocity.dy*=-1),n.maxY===i.minY-1&&n.minX>=i.minX-1&&n.maxX<=i.maxX+1?v.ballVelocity.dy*=-1:(v.ballVelocity.dx===1&&n.maxX===i.minX-1&&n.minY>=i.minY-1&&n.maxY<=i.maxY+1||v.ballVelocity.dx===-1&&n.minX===i.maxX+1&&n.minY>=i.minY-1&&n.maxY<=i.maxY+1)&&(v.ballVelocity.dx*=-1),n.maxY===V.height-1)return Y0();v.ball.map(e=>{e.x+=v.ballVelocity.dx,e.y+=v.ballVelocity.dy})},S=()=>{v.gameMap=X.getEmptyMatrix(),v.paddle.forEach(n=>{v.gameMap[n.y][n.x]=1}),v.ball.forEach(n=>{v.gameMap[n.y][n.x]=1}),v.bricks.forEach(n=>n.forEach(i=>{v.gameMap[i.y][i.x]=1})),X.setData(v.gameMap)},q=n=>({minX:Math.min(...n.map(i=>i.x)),maxX:Math.max(...n.map(i=>i.x)),minY:Math.min(...n.map(i=>i.y)),maxY:Math.max(...n.map(i=>i.y))}),j=n=>{const i=n.code,e=V.directionsMap[i];e&&(n.preventDefault(),v.direction=e)};W();
