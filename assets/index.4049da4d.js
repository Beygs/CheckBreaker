const d0=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}};d0();class C{constructor(n={}){typeof n.fillValue!="undefined"&&n0(n.fillValue),this.dimensions=h0(n.dimensions||"8x8"),this.displayEl=f0(n.selector),this._data=this.getEmptyMatrix({fillValue:n.fillValue||0}),m0(this.displayEl,this._data)}getCheckboxValue(n,t){if(!(n>=0&&t>=0&&n<this.dimensions[0]&&t<this.dimensions[1]))throw new Error(`The location (x: ${n}, y: ${t}) is outside of this checkbox display`);return this._data[t][n]}setCheckboxValue(n,t,o){const i=n>=0&&t>=0&&n<this.dimensions[0]&&t<this.dimensions[1];if(n0(o),!i)return;this._data[t][n]=o;const r=this.displayEl.children[t].children[n];if(o===2){if(r.indeterminate)return;r.indeterminate=!0,r.checked=!1}else{if(r.indeterminate&&(r.indeterminate=!1),r.checked===Boolean(o))return;r.checked=Boolean(o)}}getData(){return this._data.map(t=>t.slice())}setData(n,t={}){const{x:o=0,y:i=0,fillValue:r}=t,f=typeof r!="undefined",c=this.dimensions[0],u=this.dimensions[1];u0(n);for(let a=0;a<u;a++)for(let d=0;d<c;d++){let s=d<o,l=a<i,h=d>=o+n[0].length,w=a>=i+n.length,y=s||l||h||w;if(y&&!f)continue;let k=y?r:n[a-i][d-o];this.setCheckboxValue(d,a,k)}}clearData(){const n=this.getEmptyMatrix();this.setData(n)}getEmptyMatrix(n={}){const{fillValue:t=0,width:o=this.dimensions[0],height:i=this.dimensions[1]}=n,r=[];for(let f=0;f<i;f++){r[f]=[];for(let c=0;c<o;c++)r[f][c]=t}return r}static extend(n={}){const{name:t,exec:o,cleanUp:i}=n;if(!t||!o)throw new Error('Your plugin must have a "name" and an "exec" function.');i&&(o.cleanUp=i),this.prototype[t]=o}}function n0(e){if(!(e===0||e===1||e===2))throw new Error(`${e} is not a valid checkbox value.`)}function u0(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Error(`${e} is not a valid matrix.`)}function f0(e="#checkboxland"){if(e instanceof Element)return e;if(typeof e=="string")return document.querySelector(e);throw new Error("Checkboxland selector is invalid.")}function h0(e){const n="The dimensions you provided are invalid.";if(typeof e!="string")throw new Error(n);const t=e.split("x").map(i=>Number(i));if(!(t.length===2&&!isNaN(t[0])&&!isNaN(t[0])))throw new Error(n);return e.split("x").map(i=>Number(i))}function m0(e,n){e.innerHTML="",e.style.overflowX="auto",e.setAttribute("aria-hidden",!0),n.forEach(t=>{const o=document.createElement("div");o.style.lineHeight=.75,o.style.whiteSpace="nowrap",t.forEach(i=>{const r=document.createElement("input"),f=i===2,c=f?!1:Boolean(i);r.style.margin=0,r.style.verticalAlign="top",r.type="checkbox",r.tabIndex="-1",r.checked=c,r.indeterminate=f,o.appendChild(r)}),e.appendChild(o)})}const v0={"0":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"1":[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],"2":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"3":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"4":[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],"5":[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"6":[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"7":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],"8":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"9":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0]],":":[[0],[1],[0],[0],[0],[1],[0]]," ":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],J:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],S:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],X:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1]],Y:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,1,0],[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],j:[[0,0,0,1],[0,0,0,0],[0,0,1,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0]],k:[[1,0,0,0],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1]],l:[[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,0,1,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],"`":[[1,0,0],[0,1,0],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"~":[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],"!":[[1],[1],[1],[1],[1],[0],[1]],"@":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"&":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,0,1,0],[1,1,1,0,1]],"*":[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],"(":[[0,0,1],[0,1,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1]],")":[[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,1],[0,1,0],[1,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"[":[[1,1,1],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,1,1]],"]":[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[1,1,1]],"{":[[0,0,1],[0,1,0],[0,1,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1]],"}":[[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,1,0],[0,1,0],[1,0,0]],"|":[[1],[1],[1],[1],[1],[1],[1]],"\\":[[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"/":[[0,0,1],[0,0,1],[0,1,0],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],";":[[0,0],[0,1],[0,1],[0,0],[0,0],[0,1],[1,0]],'"':[[1,0,1],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"'":[[1,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0]],",":[[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[1,0]],".":[[0],[0],[0],[0],[0],[0],[1]],"<":[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],">":[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]]};function g0(e,n={}){const{dataOnly:t=!1,font:o=v0,x:i=0,y:r=0,fillValue:f}=n,c=typeof f!="undefined",a=e.split("").reduce((d,s)=>{const l=o[s];return p0(d,l)},[]);if(a.length===0&&a.push([]),t){if(!c)return a;let d=this.getEmptyMatrix({fillValue:f});return a.forEach((s,l)=>{s.forEach((h,w)=>{d[l+r][w+i]=h})}),d}this.setData(a,{x:i,y:r,fillValue:f})}function p0(e,n){if(e.length===0)return n;const t=[];return e.forEach((o,i)=>{t.push(o.concat([0]).concat(n[i]))}),t}var y0={name:"print",exec:g0};let N;function w0(e,n={}){const{interval:t=200,repeat:o=!1,fillValue:i=0,callback:r=()=>{}}=n,f=this.dimensions[1],c=this.dimensions[0],u=c+e[0].length;let a=1;N=setInterval(()=>{const d=this.getData();for(let s=0;s<f;s++)for(let l=0;l<c;l++)if(l+1===c){const w=a-(c-l),y=e[s]?typeof e[s][w]=="undefined"?i:e[s][w]:i;this.setCheckboxValue(l,s,y)}else this.setCheckboxValue(l,s,d[s][l+1]);a===u?o?a=1:(clearInterval(N),r()):a++},t)}function b0(){clearInterval(N)}var x0={name:"marquee",exec:w0,cleanUp:b0};let j;function k0(e,n={}){const{interval:t=200,fillValue:o=0,direction:i="ltr",callback:r=()=>{}}=n,f=this.dimensions[1],c=this.dimensions[0],u=c+1;let a=1;j=setInterval(()=>{let d,s;switch(i){case"ltr":d=a-1,s=d-1;break;case"rtl":d=c-a,s=d+1;break}for(let l=0;l<f;l++)for(let h=0;h<c;h++)if(h===d)this.setCheckboxValue(h,l,1);else if(h===s){let w=e[l]?typeof e[l][h]=="undefined"?o:e[l][h]:o;this.setCheckboxValue(h,l,w)}a===u?(clearInterval(j),r()):a++},t)}function E0(){clearInterval(j)}var S0={name:"transitionWipe",exec:k0,cleanUp:E0};function I0(e,n,t){return{invert:M0,pad:C0}[e](n,t)}function M0(e){return e.map(n=>n.map(t=>t?0:1))}function C0(e,n={}){const t=Number.isInteger(n.all),o=t?n.all:n.top,i=t?n.all:n.right,r=t?n.all:n.bottom,f=t?n.all:n.left;let c=e.map(d=>{let s=d;return f&&(s=[...Array(f).fill(0),...s]),i&&(s=[...s,...Array(i).fill(0)]),s});const u=c[0].length,a=(d,s)=>{const l=[];for(let h=0;h<d;h++)l.push(Array(s).fill(0));return l};return o&&(c=[...a(o,u),...c]),r&&(c=[...c,...a(r,u)]),c}var V0={name:"dataUtils",exec:I0};let F=null,T=null;function A0(e){T=this.displayEl,F=P0.bind(this,e),T.addEventListener("click",F)}function P0(e,n){const t=L0(T,n.target);if(!t)return;const o={x:t.x,y:t.y,checkbox:n.target};if(typeof e=="function")e(o);else if("handleEvent"in e&&typeof e.handleEvent=="function")e.handleEvent(o);else throw new TypeError("Callback should be a function or an EventListener object")}function L0(e,n){for(let t=0;t<e.children.length;t+=1){const o=e.children[t];for(let i=0;i<o.children.length;i+=1)if(o.children[i]===n)return{x:i,y:t}}return null}function X0(){T.removeEventListener("click",F)}var O0={name:"onClick",exec:A0,cleanUp:X0};const H=[[60,136,253],[255,255,255]];function U0({uint8data:e,palette:n=H,step:t=1,h:o,w:i}){for(var r=new Uint8ClampedArray(e),f=3,c=new Array([1,9,3,11],[13,5,15,7],[4,12,2,10],[16,8,14,6]),u,a,d,s,l,h,w,y,k,S,I,E,b=0;b<o;b+=t)for(var x=0;x<i;x+=t)for(s=4*x+4*b*i,u=s,a=s+1,d=s+2,r[u]+=c[x%4][b%4]*f,r[a]+=c[x%4][b%4]*f,r[d]+=c[x%4][b%4]*f,l=new Array(r[u],r[a],r[d]),h=J(l,n),w=h[0],y=h[1],k=h[2],S=0;S<t;S++)for(I=0;I<t;I++)E=s+4*S+4*i*I,r[E]=w,r[E+1]=y,r[E+2]=k;return r}function $0({uint8data:e,palette:n=H,step:t=1,h:o,w:i}){for(var r=new Uint8ClampedArray(e),f=new Uint8ClampedArray(e),c=1/8,u=function(A,P){return 4*A+4*P*i},a,d,s,l,h,w,y,k,S,I,E,b,x,m=0;m<o;m+=t)for(var v=0;v<i;v+=t)for(h=4*v+4*m*i,a=h,d=h+1,s=h+2,w=new Array(r[a],r[d],r[s]),y=J(w,n),l=[],l[a]=r[a]-y[0],l[d]=r[d]-y[1],l[s]=r[s]-y[2],r[u(v+t,m)+0]+=c*l[a],r[u(v-t,m+t)+0]+=c*l[a],r[u(v,m+t)+0]+=c*l[a],r[u(v+t,m+t)+0]+=c*l[a],r[u(v+2*t,m)+0]+=c*l[a],r[u(v,m+2*t)+0]+=c*l[a],r[u(v+t,m)+1]+=c*l[d],r[u(v-t,m+t)+1]+=c*l[d],r[u(v,m+t)+1]+=c*l[d],r[u(v+t,m+t)+1]+=c*l[d],r[u(v+2*t,m)+1]+=c*l[d],r[u(v,m+2*t)+1]+=c*l[d],r[u(v+t,m)+2]+=c*l[s],r[u(v-t,m+t)+2]+=c*l[s],r[u(v,m+t)+2]+=c*l[s],r[u(v+t,m+t)+2]+=c*l[s],r[u(v+2*t,m)+2]+=c*l[s],r[u(v,m+2*t)+2]+=c*l[s],k=y[0],S=y[1],I=y[2],E=0;E<t;E++)for(b=0;b<t;b++)x=h+4*E+4*i*b,f[x]=k,f[x+1]=S,f[x+2]=I;return f}function B0({uint8data:e,palette:n=H,step:t=1,h:o,w:i}){for(var r=new Uint8ClampedArray(e),f=new Uint8ClampedArray(e),c=1/16,u=function(A,P){return 4*A+4*P*i},a,d,s,l,h,w,y,k,S,I,E,b,x,m=0;m<o;m+=t)for(var v=0;v<i;v+=t)for(h=4*v+4*m*i,a=h,d=h+1,s=h+2,w=new Array(r[a],r[d],r[s]),y=J(w,n),l=[],l[a]=r[a]-y[0],l[d]=r[d]-y[1],l[s]=r[s]-y[2],r[u(v+t,m)]=r[u(v+t,m)]+7*c*l[a],r[u(v-t,m+1)]=r[u(v-1,m+t)]+3*c*l[a],r[u(v,m+t)]=r[u(v,m+t)]+5*c*l[a],r[u(v+t,m+t)]=r[u(v+1,m+t)]+1*c*l[a],r[u(v+t,m)+1]=r[u(v+t,m)+1]+7*c*l[d],r[u(v-t,m+t)+1]=r[u(v-t,m+t)+1]+3*c*l[d],r[u(v,m+t)+1]=r[u(v,m+t)+1]+5*c*l[d],r[u(v+t,m+t)+1]=r[u(v+t,m+t)+1]+1*c*l[d],r[u(v+t,m)+2]=r[u(v+t,m)+2]+7*c*l[s],r[u(v-t,m+t)+2]=r[u(v-t,m+t)+2]+3*c*l[s],r[u(v,m+t)+2]=r[u(v,m+t)+2]+5*c*l[s],r[u(v+t,m+t)+2]=r[u(v+t,m+t)+2]+1*c*l[s],k=y[0],S=y[1],I=y[2],E=0;E<t;E++)for(b=0;b<t;b++)x=h+4*E+4*i*b,f[x]=k,f[x+1]=S,f[x+2]=I;return f}function J(e,n){function t(r,f){return Math.sqrt(Math.pow(r[0]-f[0],2)+Math.pow(r[1]-f[1],2)+Math.pow(r[2]-f[2],2))}function o(r,f,c,u){if(c.length==2)return r(f,u)<=r(f,c[1])?u:c[1];var a=c.slice(1);return r(f,u)<=r(f,c[1])?u=u:u=c[1],o(r,f,a,u)}var i=o(t,e,n,n[0]);return i}function R0(e,n){const t=(i,r,f)=>.21*i+.72*r+.07*f,o=n/100*255;for(let i=0;i<e.length;i+=4){const r=e[i],f=e[i+1],c=e[i+2],a=t(r,f,c)>o?255:0;e[i]=a,e[i+1]=a,e[i+2]=a}return e}function Y0(e,n,t){const o=n.width,i=n.height,r=n.data,f=[0,-1,0,-1,5,-1,0,-1,0],c=Math.round(Math.sqrt(f.length)),u=c*.5|0,d=e.createImageData(o,i).data;for(let s=i;s>=0;s--)for(let l=o;l>=0;l--){const h=s,w=l,y=(s*o+l)*4;let k=0,S=0,I=0,E=0;for(let b=0;b<c;b++)for(let x=0;x<c;x++){const m=h+b-u,v=w+x-u;if(m>=0&&m<i&&v>=0&&v<o){const A=(m*o+v)*4,P=f[b*c+x];k+=r[A]*P,S+=r[A+1]*P,I+=r[A+2]*P,E+=r[A+3]*P}}d[y]=k*t+r[y]*(1-t),d[y+1]=S*t+r[y+1]*(1-t),d[y+2]=I*t+r[y+2]*(1-t),d[y+3]=r[y+3]}for(let s=i;s>=0;s--){const h=(s*o+0)*4;d[h]=r[h],d[h+1]=r[h+1],d[h+2]=r[h+2],d[h+3]=r[h+3]}return d}let V,X;function R(e,n={},t){V||(V=document.createElement("canvas"),X=V.getContext("2d")),V.width=t.dimensions[0],V.height=t.dimensions[1],X.fillStyle="white",X.fillRect(0,0,V.width,V.height);const[o,i]=D0(e),[r,f]=T0(o,i,V.width,V.height);X.drawImage(e,0,0,r,f);const c=W0(X,r,f,n),u=q0(c);t.setData(u,n)}function D0(e){let n=0,t=0;switch(e.tagName){case"IMG":n=e.width,t=e.height;break;case"VIDEO":n=e.videoWidth,t=e.videoHeight;break}return[n,t]}function T0(e,n,t,o){const i=n/o,r=e/t;if(i<1&&r<1)return[e,n];const f=()=>[Math.floor(e*o/n),o],c=()=>{const u=Math.floor(n*t/e);return[t,u]};return i>r?f():c()}function W0(e,n,t,o){const{threshold:i=50,dithering:r="none"}=o;let f=e.getImageData(0,0,n,t),c;const u={ordered:U0,atkinson:$0,errorDiffusion:B0};return r==="none"?c=R0(f.data,i):(c=Y0(e,f,i/100),c=u[r]({uint8data:c,w:n,h:t})),f.data.set(c),f}function q0(e){const n=[],t=e.width;for(let o=0;o<e.data.length;o+=4){const i=o/4,r=Math.floor(i/t),f=i%t;f===0&&(n[r]=[]),n[r][f]=e.data[o]===255?0:1}return n}function _0(e,n){const t=this;let o;typeof e=="string"?(o=new Image,o.crossOrigin="anonymous",o.addEventListener("load",()=>R(o,n,t),{once:!0}),o.src=e):typeof e=="object"&&(e.complete?R(e,n,t):e.addEventListener("load",()=>R(e,n,t),{once:!0}))}var N0={name:"renderImage",exec:_0};let o0;function j0(e,n){const t=this;let o;typeof e=="string"?(o=document.createElement("video"),o.loop=!0,o.controls=!0,o.autoplay=!0,o.muted=!0,o.crossOrigin="anonymous",o.addEventListener("loadeddata",()=>{o.play(),Y(o,n,t)},{once:!0}),o.src=e):typeof e=="object"&&(e.readyState===4?Y(e,n,t):e.addEventListener("loadeddata",()=>Y(e,n,t),{once:!0}))}function Y(e,n,t){R(e,n,t),o0=requestAnimationFrame(()=>Y(e,n,t))}function F0(){cancelAnimationFrame(o0)}var G0={name:"renderVideo",exec:j0,cleanUp:F0};C.extend(y0);C.extend(x0);C.extend(S0);C.extend(V0);C.extend(O0);C.extend(N0);C.extend(G0);let G;function K0(e,n={}){const{interval:t=200,repeat:o=!1,fillValue:i=0,callback:r=()=>{}}=n,f=this.dimensions[1],c=this.dimensions[0],u=c+e[0].length;let a=1;G=setInterval(()=>{const d=this.getData();for(let s=0;s<f;s++)for(let l=0;l<c;l++)if(l+1===c){const w=a-(c-l),y=e[s]?typeof e[s][w]=="undefined"?i:e[s][w]:i;this.setCheckboxValue(l,s,y)}else this.setCheckboxValue(l,s,d[s][l+1]);a===u?o?a=1:(clearInterval(G),r()):a++},t)}function z0(){clearInterval(G)}var H0={name:"marquee",exec:K0,cleanUp:z0};const J0={"0":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"1":[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],"2":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"3":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"4":[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],"5":[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"6":[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"7":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],"8":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"9":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0]],":":[[0],[1],[0],[0],[0],[1],[0]]," ":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],J:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],S:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],X:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1]],Y:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,1,0],[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],j:[[0,0,0,1],[0,0,0,0],[0,0,1,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0]],k:[[1,0,0,0],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1]],l:[[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,0,1,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],"`":[[1,0,0],[0,1,0],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"~":[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],"!":[[1],[1],[1],[1],[1],[0],[1]],"@":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"&":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,0,1,0],[1,1,1,0,1]],"*":[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],"(":[[0,0,1],[0,1,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1]],")":[[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,1],[0,1,0],[1,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"[":[[1,1,1],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,1,1]],"]":[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[1,1,1]],"{":[[0,0,1],[0,1,0],[0,1,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1]],"}":[[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,1,0],[0,1,0],[1,0,0]],"|":[[1],[1],[1],[1],[1],[1],[1]],"\\":[[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"/":[[0,0,1],[0,0,1],[0,1,0],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],";":[[0,0],[0,1],[0,1],[0,0],[0,0],[0,1],[1,0]],'"':[[1,0,1],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"'":[[1,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0]],",":[[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[1,0]],".":[[0],[0],[0],[0],[0],[0],[1]],"<":[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],">":[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]]};function Q0(e,n={}){const{dataOnly:t=!1,font:o=J0,x:i=0,y:r=0,fillValue:f}=n,c=typeof f!="undefined",a=e.split("").reduce((d,s)=>{const l=o[s];return Z0(d,l)},[]);if(a.length===0&&a.push([]),t){if(!c)return a;let d=this.getEmptyMatrix({fillValue:f});return a.forEach((s,l)=>{s.forEach((h,w)=>{d[l+r][w+i]=h})}),d}this.setData(a,{x:i,y:r,fillValue:f})}function Z0(e,n){if(e.length===0)return n;const t=[];return e.forEach((o,i)=>{t.push(o.concat([0]).concat(n[i]))}),t}var e1={name:"print",exec:Q0};function t1(e,n,t){return{invert:n1,pad:r1}[e](n,t)}function n1(e){return e.map(n=>n.map(t=>t?0:1))}function r1(e,n={}){const t=Number.isInteger(n.all),o=t?n.all:n.top,i=t?n.all:n.right,r=t?n.all:n.bottom,f=t?n.all:n.left;let c=e.map(d=>{let s=d;return f&&(s=[...Array(f).fill(0),...s]),i&&(s=[...s,...Array(i).fill(0)]),s});const u=c[0].length,a=(d,s)=>{const l=[];for(let h=0;h<d;h++)l.push(Array(s).fill(0));return l};return o&&(c=[...a(o,u),...c]),r&&(c=[...c,...a(r,u)]),c}var i1={name:"dataUtils",exec:t1};const o1=Object.freeze([{top:4,left:2,width:12,height:2},{top:8,left:2,width:12,height:2},{top:12,left:2,width:12,height:2},{top:4,left:18,width:12,height:2},{top:8,left:18,width:12,height:2},{top:12,left:18,width:12,height:2},{top:4,left:34,width:12,height:2},{top:8,left:34,width:12,height:2},{top:12,left:34,width:12,height:2},{top:4,left:50,width:12,height:2},{top:8,left:50,width:12,height:2},{top:12,left:50,width:12,height:2}]);var a1="/CheckBreaker/assets/cassebriques.c651bcd1.wav",c1="/CheckBreaker/assets/tnul.933fa78e.wav",l1="/CheckBreaker/assets/boing.89c22d26.wav",s1="/CheckBreaker/assets/crash.73c3aaca.wav",d1="/CheckBreaker/assets/oui.509a03e7.mp3";try{self["workbox:window:6.5.2"]&&_()}catch{}function K(e,n){return new Promise(function(t){var o=new MessageChannel;o.port1.onmessage=function(i){t(i.data)},e.postMessage(n,[o.port2])})}function u1(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function f1(e,n){var t;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(t=function(i,r){if(i){if(typeof i=="string")return r0(i,r);var f=Object.prototype.toString.call(i).slice(8,-1);return f==="Object"&&i.constructor&&(f=i.constructor.name),f==="Map"||f==="Set"?Array.from(i):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?r0(i,r):void 0}}(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(t=e[Symbol.iterator]()).next.bind(t)}try{self["workbox:core:6.5.2"]&&_()}catch{}var W=function(){var e=this;this.promise=new Promise(function(n,t){e.resolve=n,e.reject=t})};function q(e,n){var t=location.href;return new URL(e,t).href===new URL(n,t).href}var O=function(e,n){this.type=e,Object.assign(this,n)};function $(e,n,t){return t?n?n(e):e:(e&&e.then||(e=Promise.resolve(e)),n?e.then(n):e)}function h1(){}var m1={type:"SKIP_WAITING"};function i0(e,n){if(!n)return e&&e.then?e.then(h1):Promise.resolve()}var v1=function(e){var n,t;function o(c,u){var a,d;return u===void 0&&(u={}),(a=e.call(this)||this).nn={},a.tn=0,a.rn=new W,a.en=new W,a.on=new W,a.un=0,a.an=new Set,a.cn=function(){var s=a.fn,l=s.installing;a.tn>0||!q(l.scriptURL,a.sn.toString())||performance.now()>a.un+6e4?(a.vn=l,s.removeEventListener("updatefound",a.cn)):(a.hn=l,a.an.add(l),a.rn.resolve(l)),++a.tn,l.addEventListener("statechange",a.ln)},a.ln=function(s){var l=a.fn,h=s.target,w=h.state,y=h===a.vn,k={sw:h,isExternal:y,originalEvent:s};!y&&a.mn&&(k.isUpdate=!0),a.dispatchEvent(new O(w,k)),w==="installed"?a.wn=self.setTimeout(function(){w==="installed"&&l.waiting===h&&a.dispatchEvent(new O("waiting",k))},200):w==="activating"&&(clearTimeout(a.wn),y||a.en.resolve(h))},a.dn=function(s){var l=a.hn,h=l!==navigator.serviceWorker.controller;a.dispatchEvent(new O("controlling",{isExternal:h,originalEvent:s,sw:l,isUpdate:a.mn})),h||a.on.resolve(l)},a.gn=(d=function(s){var l=s.data,h=s.ports,w=s.source;return $(a.getSW(),function(){a.an.has(w)&&a.dispatchEvent(new O("message",{data:l,originalEvent:s,ports:h,sw:w}))})},function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return Promise.resolve(d.apply(this,s))}catch(h){return Promise.reject(h)}}),a.sn=c,a.nn=u,navigator.serviceWorker.addEventListener("message",a.gn),a}t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var i,r,f=o.prototype;return f.register=function(c){var u=(c===void 0?{}:c).immediate,a=u!==void 0&&u;try{var d=this;return function(s,l){var h=s();return h&&h.then?h.then(l):l(h)}(function(){if(!a&&document.readyState!=="complete")return i0(new Promise(function(s){return window.addEventListener("load",s)}))},function(){return d.mn=Boolean(navigator.serviceWorker.controller),d.yn=d.pn(),$(d.bn(),function(s){d.fn=s,d.yn&&(d.hn=d.yn,d.en.resolve(d.yn),d.on.resolve(d.yn),d.yn.addEventListener("statechange",d.ln,{once:!0}));var l=d.fn.waiting;return l&&q(l.scriptURL,d.sn.toString())&&(d.hn=l,Promise.resolve().then(function(){d.dispatchEvent(new O("waiting",{sw:l,wasWaitingBeforeRegister:!0}))}).then(function(){})),d.hn&&(d.rn.resolve(d.hn),d.an.add(d.hn)),d.fn.addEventListener("updatefound",d.cn),navigator.serviceWorker.addEventListener("controllerchange",d.dn),d.fn})})}catch(s){return Promise.reject(s)}},f.update=function(){try{return this.fn?i0(this.fn.update()):void 0}catch(c){return Promise.reject(c)}},f.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},f.messageSW=function(c){try{return $(this.getSW(),function(u){return K(u,c)})}catch(u){return Promise.reject(u)}},f.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&K(this.fn.waiting,m1)},f.pn=function(){var c=navigator.serviceWorker.controller;return c&&q(c.scriptURL,this.sn.toString())?c:void 0},f.bn=function(){try{var c=this;return function(u,a){try{var d=u()}catch(s){return a(s)}return d&&d.then?d.then(void 0,a):d}(function(){return $(navigator.serviceWorker.register(c.sn,c.nn),function(u){return c.un=performance.now(),u})},function(u){throw u})}catch(u){return Promise.reject(u)}},i=o,(r=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&u1(i.prototype,r),o}(function(){function e(){this.Pn=new Map}var n=e.prototype;return n.addEventListener=function(t,o){this.Sn(t).add(o)},n.removeEventListener=function(t,o){this.Sn(t).delete(o)},n.dispatchEvent=function(t){t.target=this;for(var o,i=f1(this.Sn(t.type));!(o=i()).done;)(0,o.value)(t)},n.Sn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},e}());function g1(e={}){const{immediate:n=!1,onNeedRefresh:t,onOfflineReady:o,onRegistered:i,onRegisterError:r}=e;let f,c;const u=async(a=!0)=>{a&&(f==null||f.addEventListener("controlling",d=>{d.isUpdate&&window.location.reload()})),c&&c.waiting&&await K(c.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){f=new v1("/CheckBreaker/sw.js",{scope:"/CheckBreaker/",type:"classic"}),f.addEventListener("activated",a=>{a.isUpdate||o==null||o()});{const a=()=>{t==null||t()};f.addEventListener("waiting",a),f.addEventListener("externalwaiting",a)}f.register({immediate:n}).then(a=>{c=a,i==null||i(a)}).catch(a=>{r==null||r(a)})}return u}C.extend(H0);C.extend(e1);C.extend(i1);g1({immediate:!0});const U=document.body,p1=document.querySelector("#app"),Q=document.getElementById("sound-control"),z=document.getElementById("volume"),a0=document.getElementById("speed"),y1=document.getElementById("reset");Q.addEventListener("change",e=>{const n=e.target;g.sound=n.checked,n.checked?z.disabled=!1:z.disabled=!0,p.song.volume=n.checked?1:0,p.gameOverSound.volume=n.checked?1:0,p.boingSound.volume=n.checked?1:0,p.crashSound.volume=n.checked?1:0,p.ouiSound.volume=n.checked?1:0});z.addEventListener("change",e=>{const n=e.target,t=parseFloat(n.value);p.song.volume=t,p.gameOverSound.volume=t,p.boingSound.volume=t,p.crashSound.volume=t,p.ouiSound.volume=t,t===0&&(Q.checked=!1)});a0.addEventListener("change",e=>{const n=e.target,t=parseInt(n.value)*-1;c0(t)});y1.addEventListener("click",()=>{a0.value="-70",c0(70)});const c0=e=>{p.interval=e;const n=2.2-(e-20)/50;clearInterval(g.intervalId),g.intervalId=window.setInterval(s0,p.interval),p.song.playbackRate=n,p.gameOverSound.playbackRate=n,p.boingSound.playbackRate=n,p.crashSound.playbackRate=n,p.ouiSound.playbackRate=n},p={width:64,height:48,interval:70,directionsMap:{ArrowLeft:"left",ArrowRight:"right"},bricks:o1,song:new Audio(a1),gameOverSound:new Audio(c1),boingSound:new Audio(l1),crashSound:new Audio(s1),ouiSound:new Audio(d1)},M=new C({dimensions:`${p.width}x${p.height}`,selector:p1}),g={direction:"",paddle:[],ball:[],bricks:[],ballVelocity:{dx:1,dy:1},gameMap:M.getEmptyMatrix(),intervalId:void 0,timeoutId:void 0,sound:Q.checked},Z=()=>{M.marquee.cleanUp(),b1(),U.addEventListener("keydown",l0)},w1=()=>{g.paddle=[],g.ball=[];const e=p.height-3,n=Math.floor(p.width/2)-6;for(let i=e;i>=e-1;i--)for(let r=n;r<p.width-n;r++)g.paddle.push({x:r,y:i});const t=Math.floor(p.height/2),o=Math.floor(Math.random()*p.width);for(let i=t;i>=t-1;i--)for(let r=o;r<=o+1;r++)g.ball.push({x:r,y:i});p.bricks.forEach((i,r)=>{const{top:f,left:c,width:u,height:a}=i,d=[];for(let s=f;s<f+a;s++)for(let l=c;l<c+u;l++)d.push({x:l,y:s});g.bricks.push({id:r,brick:d})})},b1=()=>{M.print("Bienvenue",{y:2,x:2,fillValue:2}),M.print("dans",{y:12,x:2}),M.print("CheckBreak",{y:22,x:2}),g.timeoutId=window.setTimeout(()=>{const e=M.print("Appuyez sur une touche pour commencer",{dataOnly:!0}),n=M.dataUtils("pad",e,{top:20});M.marquee(n,{interval:30,repeat:!0})},3e3)},x1=()=>{p.song.pause(),p.song.currentTime=0,p.ouiSound.play(),p.ouiSound.addEventListener("ended",()=>{p.ouiSound.pause(),p.ouiSound.currentTime=0,p.song.play()}),g.gameMap=M.getEmptyMatrix(),e0(),U.removeEventListener("keydown",t0),clearInterval(g.intervalId),Z()},k1=()=>{p.song.pause(),p.song.currentTime=0,p.gameOverSound.play(),p.gameOverSound.addEventListener("ended",()=>{p.gameOverSound.pause(),p.gameOverSound.currentTime=0,p.song.play()}),U.removeEventListener("keydown",t0),clearInterval(g.intervalId),g.gameMap=M.getEmptyMatrix(),e0(),Z()},l0=()=>{w1(),M.marquee.cleanUp(),clearTimeout(g.timeoutId),p.song.loop=!0,p.song.play(),U.removeEventListener("keydown",l0),U.addEventListener("keydown",t0),g.intervalId=window.setInterval(s0,p.interval)},s0=()=>{g.bricks.length===0&&x1(),E1(),S1(),g.direction="",e0()},E1=()=>{const e=D(g.paddle);if(g.direction==="left"){if(e.minX===0)return;g.paddle.map(n=>n.x-=2)}if(g.direction==="right"){if(e.maxX===p.width-1)return;g.paddle.map(n=>n.x+=2)}},S1=()=>{const e=D(g.ball),n=D(g.paddle);e.minX<=0&&L("dx"),e.maxX>=p.width-1&&L("dx"),e.minY<=0&&L("dy"),e.maxY===n.minY-1&&e.maxX>=n.minX-1&&e.minX<=n.maxX+1&&(L("dy"),e.maxX<=n.minX+4&&(g.ballVelocity.dx=-1),e.maxX<=n.minX+2&&(g.ballVelocity.dx=-2),e.minX>=n.maxX-4&&(g.ballVelocity.dx=1),e.minX>=n.maxX-2&&(g.ballVelocity.dx=2)),g.ballVelocity.dx>=0&&e.maxX===n.minX-1&&e.minY>=n.minY-1&&e.maxY<=n.maxY+1&&L("dx"),g.ballVelocity.dx<=0&&e.minX===n.maxX+1&&e.minY>=n.minY-1&&e.maxY<=n.maxY+1&&L("dx");const t=[...g.bricks];for(let o of t){const i=D(o.brick);if(e.maxY===i.minY-1&&e.maxX>=i.minX-1&&e.minX<=i.maxX+1){B("dy",o.id);break}if(g.ballVelocity.dy<=0&&e.minY===i.maxY+1&&e.maxX>=i.minX-1&&e.minX<=i.maxX+1){B("dy",o.id);break}if(g.ballVelocity.dx>=0&&(e.maxX===i.minX||e.maxX===i.minX-1)&&e.maxY>=i.minY-1&&e.minY<=i.maxY+1){B("dx",o.id);break}if(g.ballVelocity.dx<=0&&(e.minX===i.maxX||e.minX===i.maxX+1)&&e.maxY>=i.minY-1&&e.minY<=i.maxY+1){B("dx",o.id);break}}if(e.maxY===p.height-1)return k1();g.ball.map(o=>{o.x+=g.ballVelocity.dx,o.y+=g.ballVelocity.dy})},e0=()=>{g.gameMap=M.getEmptyMatrix(),g.paddle.forEach(e=>{g.gameMap[e.y][e.x]=1}),g.ball.forEach(e=>{g.gameMap[e.y][e.x]=1}),g.bricks.forEach(e=>e.brick.forEach(n=>{g.gameMap[n.y][n.x]=1})),M.setData(g.gameMap)},D=e=>({minX:Math.min(...e.map(n=>n.x)),maxX:Math.max(...e.map(n=>n.x)),minY:Math.min(...e.map(n=>n.y)),maxY:Math.max(...e.map(n=>n.y))}),L=e=>{p.boingSound.currentTime=0,p.boingSound.play(),g.ballVelocity[e]*=-1},B=(e,n)=>{p.crashSound.currentTime=0,p.crashSound.play(),g.ballVelocity[e]*=-1,I1(n)},I1=e=>{g.bricks=g.bricks.filter(n=>n.id!==e)},t0=e=>{const n=e.code,t=p.directionsMap[n];t&&(e.preventDefault(),g.direction=t)};Z();
