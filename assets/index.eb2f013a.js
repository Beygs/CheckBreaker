const n0=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}};n0();class V{constructor(n={}){typeof n.fillValue!="undefined"&&K(n.fillValue),this.dimensions=o0(n.dimensions||"8x8"),this.displayEl=i0(n.selector),this._data=this.getEmptyMatrix({fillValue:n.fillValue||0}),a0(this.displayEl,this._data)}getCheckboxValue(n,t){if(!(n>=0&&t>=0&&n<this.dimensions[0]&&t<this.dimensions[1]))throw new Error(`The location (x: ${n}, y: ${t}) is outside of this checkbox display`);return this._data[t][n]}setCheckboxValue(n,t,o){const i=n>=0&&t>=0&&n<this.dimensions[0]&&t<this.dimensions[1];if(K(o),!i)return;this._data[t][n]=o;const r=this.displayEl.children[t].children[n];if(o===2){if(r.indeterminate)return;r.indeterminate=!0,r.checked=!1}else{if(r.indeterminate&&(r.indeterminate=!1),r.checked===Boolean(o))return;r.checked=Boolean(o)}}getData(){return this._data.map(t=>t.slice())}setData(n,t={}){const{x:o=0,y:i=0,fillValue:r}=t,s=typeof r!="undefined",a=this.dimensions[0],d=this.dimensions[1];r0(n);for(let u=0;u<d;u++)for(let f=0;f<a;f++){let c=f<o,l=u<i,g=f>=o+n[0].length,x=u>=i+n.length,y=c||l||g||x;if(y&&!s)continue;let E=y?r:n[u-i][f-o];this.setCheckboxValue(f,u,E)}}clearData(){const n=this.getEmptyMatrix();this.setData(n)}getEmptyMatrix(n={}){const{fillValue:t=0,width:o=this.dimensions[0],height:i=this.dimensions[1]}=n,r=[];for(let s=0;s<i;s++){r[s]=[];for(let a=0;a<o;a++)r[s][a]=t}return r}static extend(n={}){const{name:t,exec:o,cleanUp:i}=n;if(!t||!o)throw new Error('Your plugin must have a "name" and an "exec" function.');i&&(o.cleanUp=i),this.prototype[t]=o}}function K(e){if(!(e===0||e===1||e===2))throw new Error(`${e} is not a valid checkbox value.`)}function r0(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Error(`${e} is not a valid matrix.`)}function i0(e="#checkboxland"){if(e instanceof Element)return e;if(typeof e=="string")return document.querySelector(e);throw new Error("Checkboxland selector is invalid.")}function o0(e){const n="The dimensions you provided are invalid.";if(typeof e!="string")throw new Error(n);const t=e.split("x").map(i=>Number(i));if(!(t.length===2&&!isNaN(t[0])&&!isNaN(t[0])))throw new Error(n);return e.split("x").map(i=>Number(i))}function a0(e,n){e.innerHTML="",e.style.overflowX="auto",e.setAttribute("aria-hidden",!0),n.forEach(t=>{const o=document.createElement("div");o.style.lineHeight=.75,o.style.whiteSpace="nowrap",t.forEach(i=>{const r=document.createElement("input"),s=i===2,a=s?!1:Boolean(i);r.style.margin=0,r.style.verticalAlign="top",r.type="checkbox",r.tabIndex="-1",r.checked=a,r.indeterminate=s,o.appendChild(r)}),e.appendChild(o)})}const l0={"0":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"1":[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],"2":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"3":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"4":[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],"5":[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"6":[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"7":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],"8":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"9":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0]],":":[[0],[1],[0],[0],[0],[1],[0]]," ":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],J:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],S:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],X:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1]],Y:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,1,0],[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],j:[[0,0,0,1],[0,0,0,0],[0,0,1,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0]],k:[[1,0,0,0],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1]],l:[[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,0,1,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],"`":[[1,0,0],[0,1,0],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"~":[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],"!":[[1],[1],[1],[1],[1],[0],[1]],"@":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"&":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,0,1,0],[1,1,1,0,1]],"*":[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],"(":[[0,0,1],[0,1,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1]],")":[[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,1],[0,1,0],[1,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"[":[[1,1,1],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,1,1]],"]":[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[1,1,1]],"{":[[0,0,1],[0,1,0],[0,1,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1]],"}":[[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,1,0],[0,1,0],[1,0,0]],"|":[[1],[1],[1],[1],[1],[1],[1]],"\\":[[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"/":[[0,0,1],[0,0,1],[0,1,0],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],";":[[0,0],[0,1],[0,1],[0,0],[0,0],[0,1],[1,0]],'"':[[1,0,1],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"'":[[1,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0]],",":[[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[1,0]],".":[[0],[0],[0],[0],[0],[0],[1]],"<":[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],">":[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]]};function c0(e,n={}){const{dataOnly:t=!1,font:o=l0,x:i=0,y:r=0,fillValue:s}=n,a=typeof s!="undefined",u=e.split("").reduce((f,c)=>{const l=o[c];return d0(f,l)},[]);if(u.length===0&&u.push([]),t){if(!a)return u;let f=this.getEmptyMatrix({fillValue:s});return u.forEach((c,l)=>{c.forEach((g,x)=>{f[l+r][x+i]=g})}),f}this.setData(u,{x:i,y:r,fillValue:s})}function d0(e,n){if(e.length===0)return n;const t=[];return e.forEach((o,i)=>{t.push(o.concat([0]).concat(n[i]))}),t}var s0={name:"print",exec:c0};let T;function u0(e,n={}){const{interval:t=200,repeat:o=!1,fillValue:i=0,callback:r=()=>{}}=n,s=this.dimensions[1],a=this.dimensions[0],d=a+e[0].length;let u=1;T=setInterval(()=>{const f=this.getData();for(let c=0;c<s;c++)for(let l=0;l<a;l++)if(l+1===a){const x=u-(a-l),y=e[c]?typeof e[c][x]=="undefined"?i:e[c][x]:i;this.setCheckboxValue(l,c,y)}else this.setCheckboxValue(l,c,f[c][l+1]);u===d?o?u=1:(clearInterval(T),r()):u++},t)}function f0(){clearInterval(T)}var h0={name:"marquee",exec:u0,cleanUp:f0};let q;function m0(e,n={}){const{interval:t=200,fillValue:o=0,direction:i="ltr",callback:r=()=>{}}=n,s=this.dimensions[1],a=this.dimensions[0],d=a+1;let u=1;q=setInterval(()=>{let f,c;switch(i){case"ltr":f=u-1,c=f-1;break;case"rtl":f=a-u,c=f+1;break}for(let l=0;l<s;l++)for(let g=0;g<a;g++)if(g===f)this.setCheckboxValue(g,l,1);else if(g===c){let x=e[l]?typeof e[l][g]=="undefined"?o:e[l][g]:o;this.setCheckboxValue(g,l,x)}u===d?(clearInterval(q),r()):u++},t)}function g0(){clearInterval(q)}var v0={name:"transitionWipe",exec:m0,cleanUp:g0};function p0(e,n,t){return{invert:y0,pad:x0}[e](n,t)}function y0(e){return e.map(n=>n.map(t=>t?0:1))}function x0(e,n={}){const t=Number.isInteger(n.all),o=t?n.all:n.top,i=t?n.all:n.right,r=t?n.all:n.bottom,s=t?n.all:n.left;let a=e.map(f=>{let c=f;return s&&(c=[...Array(s).fill(0),...c]),i&&(c=[...c,...Array(i).fill(0)]),c});const d=a[0].length,u=(f,c)=>{const l=[];for(let g=0;g<f;g++)l.push(Array(c).fill(0));return l};return o&&(a=[...u(o,d),...a]),r&&(a=[...a,...u(r,d)]),a}var b0={name:"dataUtils",exec:p0};let R=null,U=null;function w0(e){U=this.displayEl,R=k0.bind(this,e),U.addEventListener("click",R)}function k0(e,n){const t=E0(U,n.target);if(!t)return;const o={x:t.x,y:t.y,checkbox:n.target};if(typeof e=="function")e(o);else if("handleEvent"in e&&typeof e.handleEvent=="function")e.handleEvent(o);else throw new TypeError("Callback should be a function or an EventListener object")}function E0(e,n){for(let t=0;t<e.children.length;t+=1){const o=e.children[t];for(let i=0;i<o.children.length;i+=1)if(o.children[i]===n)return{x:i,y:t}}return null}function M0(){U.removeEventListener("click",R)}var C0={name:"onClick",exec:w0,cleanUp:M0};const F=[[60,136,253],[255,255,255]];function I0({uint8data:e,palette:n=F,step:t=1,h:o,w:i}){for(var r=new Uint8ClampedArray(e),s=3,a=new Array([1,9,3,11],[13,5,15,7],[4,12,2,10],[16,8,14,6]),d,u,f,c,l,g,x,y,E,M,C,k,b=0;b<o;b+=t)for(var w=0;w<i;w+=t)for(c=4*w+4*b*i,d=c,u=c+1,f=c+2,r[d]+=a[w%4][b%4]*s,r[u]+=a[w%4][b%4]*s,r[f]+=a[w%4][b%4]*s,l=new Array(r[d],r[u],r[f]),g=W(l,n),x=g[0],y=g[1],E=g[2],M=0;M<t;M++)for(C=0;C<t;C++)k=c+4*M+4*i*C,r[k]=x,r[k+1]=y,r[k+2]=E;return r}function V0({uint8data:e,palette:n=F,step:t=1,h:o,w:i}){for(var r=new Uint8ClampedArray(e),s=new Uint8ClampedArray(e),a=1/8,d=function(S,X){return 4*S+4*X*i},u,f,c,l,g,x,y,E,M,C,k,b,w,h=0;h<o;h+=t)for(var m=0;m<i;m+=t)for(g=4*m+4*h*i,u=g,f=g+1,c=g+2,x=new Array(r[u],r[f],r[c]),y=W(x,n),l=[],l[u]=r[u]-y[0],l[f]=r[f]-y[1],l[c]=r[c]-y[2],r[d(m+t,h)+0]+=a*l[u],r[d(m-t,h+t)+0]+=a*l[u],r[d(m,h+t)+0]+=a*l[u],r[d(m+t,h+t)+0]+=a*l[u],r[d(m+2*t,h)+0]+=a*l[u],r[d(m,h+2*t)+0]+=a*l[u],r[d(m+t,h)+1]+=a*l[f],r[d(m-t,h+t)+1]+=a*l[f],r[d(m,h+t)+1]+=a*l[f],r[d(m+t,h+t)+1]+=a*l[f],r[d(m+2*t,h)+1]+=a*l[f],r[d(m,h+2*t)+1]+=a*l[f],r[d(m+t,h)+2]+=a*l[c],r[d(m-t,h+t)+2]+=a*l[c],r[d(m,h+t)+2]+=a*l[c],r[d(m+t,h+t)+2]+=a*l[c],r[d(m+2*t,h)+2]+=a*l[c],r[d(m,h+2*t)+2]+=a*l[c],E=y[0],M=y[1],C=y[2],k=0;k<t;k++)for(b=0;b<t;b++)w=g+4*k+4*i*b,s[w]=E,s[w+1]=M,s[w+2]=C;return s}function A0({uint8data:e,palette:n=F,step:t=1,h:o,w:i}){for(var r=new Uint8ClampedArray(e),s=new Uint8ClampedArray(e),a=1/16,d=function(S,X){return 4*S+4*X*i},u,f,c,l,g,x,y,E,M,C,k,b,w,h=0;h<o;h+=t)for(var m=0;m<i;m+=t)for(g=4*m+4*h*i,u=g,f=g+1,c=g+2,x=new Array(r[u],r[f],r[c]),y=W(x,n),l=[],l[u]=r[u]-y[0],l[f]=r[f]-y[1],l[c]=r[c]-y[2],r[d(m+t,h)]=r[d(m+t,h)]+7*a*l[u],r[d(m-t,h+1)]=r[d(m-1,h+t)]+3*a*l[u],r[d(m,h+t)]=r[d(m,h+t)]+5*a*l[u],r[d(m+t,h+t)]=r[d(m+1,h+t)]+1*a*l[u],r[d(m+t,h)+1]=r[d(m+t,h)+1]+7*a*l[f],r[d(m-t,h+t)+1]=r[d(m-t,h+t)+1]+3*a*l[f],r[d(m,h+t)+1]=r[d(m,h+t)+1]+5*a*l[f],r[d(m+t,h+t)+1]=r[d(m+t,h+t)+1]+1*a*l[f],r[d(m+t,h)+2]=r[d(m+t,h)+2]+7*a*l[c],r[d(m-t,h+t)+2]=r[d(m-t,h+t)+2]+3*a*l[c],r[d(m,h+t)+2]=r[d(m,h+t)+2]+5*a*l[c],r[d(m+t,h+t)+2]=r[d(m+t,h+t)+2]+1*a*l[c],E=y[0],M=y[1],C=y[2],k=0;k<t;k++)for(b=0;b<t;b++)w=g+4*k+4*i*b,s[w]=E,s[w+1]=M,s[w+2]=C;return s}function W(e,n){function t(r,s){return Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)+Math.pow(r[2]-s[2],2))}function o(r,s,a,d){if(a.length==2)return r(s,d)<=r(s,a[1])?d:a[1];var u=a.slice(1);return r(s,d)<=r(s,a[1])?d=d:d=a[1],o(r,s,u,d)}var i=o(t,e,n,n[0]);return i}function S0(e,n){const t=(i,r,s)=>.21*i+.72*r+.07*s,o=n/100*255;for(let i=0;i<e.length;i+=4){const r=e[i],s=e[i+1],a=e[i+2],u=t(r,s,a)>o?255:0;e[i]=u,e[i+1]=u,e[i+2]=u}return e}function X0(e,n,t){const o=n.width,i=n.height,r=n.data,s=[0,-1,0,-1,5,-1,0,-1,0],a=Math.round(Math.sqrt(s.length)),d=a*.5|0,f=e.createImageData(o,i).data;for(let c=i;c>=0;c--)for(let l=o;l>=0;l--){const g=c,x=l,y=(c*o+l)*4;let E=0,M=0,C=0,k=0;for(let b=0;b<a;b++)for(let w=0;w<a;w++){const h=g+b-d,m=x+w-d;if(h>=0&&h<i&&m>=0&&m<o){const S=(h*o+m)*4,X=s[b*a+w];E+=r[S]*X,M+=r[S+1]*X,C+=r[S+2]*X,k+=r[S+3]*X}}f[y]=E*t+r[y]*(1-t),f[y+1]=M*t+r[y+1]*(1-t),f[y+2]=C*t+r[y+2]*(1-t),f[y+3]=r[y+3]}for(let c=i;c>=0;c--){const g=(c*o+0)*4;f[g]=r[g],f[g+1]=r[g+1],f[g+2]=r[g+2],f[g+3]=r[g+3]}return f}let A,L;function B(e,n={},t){A||(A=document.createElement("canvas"),L=A.getContext("2d")),A.width=t.dimensions[0],A.height=t.dimensions[1],L.fillStyle="white",L.fillRect(0,0,A.width,A.height);const[o,i]=$0(e),[r,s]=L0(o,i,A.width,A.height);L.drawImage(e,0,0,r,s);const a=O0(L,r,s,n),d=P0(a);t.setData(d,n)}function $0(e){let n=0,t=0;switch(e.tagName){case"IMG":n=e.width,t=e.height;break;case"VIDEO":n=e.videoWidth,t=e.videoHeight;break}return[n,t]}function L0(e,n,t,o){const i=n/o,r=e/t;if(i<1&&r<1)return[e,n];const s=()=>[Math.floor(e*o/n),o],a=()=>{const d=Math.floor(n*t/e);return[t,d]};return i>r?s():a()}function O0(e,n,t,o){const{threshold:i=50,dithering:r="none"}=o;let s=e.getImageData(0,0,n,t),a;const d={ordered:I0,atkinson:V0,errorDiffusion:A0};return r==="none"?a=S0(s.data,i):(a=X0(e,s,i/100),a=d[r]({uint8data:a,w:n,h:t})),s.data.set(a),s}function P0(e){const n=[],t=e.width;for(let o=0;o<e.data.length;o+=4){const i=o/4,r=Math.floor(i/t),s=i%t;s===0&&(n[r]=[]),n[r][s]=e.data[o]===255?0:1}return n}function B0(e,n){const t=this;let o;typeof e=="string"?(o=new Image,o.crossOrigin="anonymous",o.addEventListener("load",()=>B(o,n,t),{once:!0}),o.src=e):typeof e=="object"&&(e.complete?B(e,n,t):e.addEventListener("load",()=>B(e,n,t),{once:!0}))}var Y0={name:"renderImage",exec:B0};let J;function D0(e,n){const t=this;let o;typeof e=="string"?(o=document.createElement("video"),o.loop=!0,o.controls=!0,o.autoplay=!0,o.muted=!0,o.crossOrigin="anonymous",o.addEventListener("loadeddata",()=>{o.play(),Y(o,n,t)},{once:!0}),o.src=e):typeof e=="object"&&(e.readyState===4?Y(e,n,t):e.addEventListener("loadeddata",()=>Y(e,n,t),{once:!0}))}function Y(e,n,t){B(e,n,t),J=requestAnimationFrame(()=>Y(e,n,t))}function U0(){cancelAnimationFrame(J)}var T0={name:"renderVideo",exec:D0,cleanUp:U0};V.extend(s0);V.extend(h0);V.extend(v0);V.extend(b0);V.extend(C0);V.extend(Y0);V.extend(T0);let N;function q0(e,n={}){const{interval:t=200,repeat:o=!1,fillValue:i=0,callback:r=()=>{}}=n,s=this.dimensions[1],a=this.dimensions[0],d=a+e[0].length;let u=1;N=setInterval(()=>{const f=this.getData();for(let c=0;c<s;c++)for(let l=0;l<a;l++)if(l+1===a){const x=u-(a-l),y=e[c]?typeof e[c][x]=="undefined"?i:e[c][x]:i;this.setCheckboxValue(l,c,y)}else this.setCheckboxValue(l,c,f[c][l+1]);u===d?o?u=1:(clearInterval(N),r()):u++},t)}function R0(){clearInterval(N)}var N0={name:"marquee",exec:q0,cleanUp:R0};const _0={"0":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"1":[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],"2":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"3":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"4":[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],"5":[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"6":[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"7":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],"8":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"9":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0]],":":[[0],[1],[0],[0],[0],[1],[0]]," ":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],J:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],S:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],X:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1]],Y:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,1,0],[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],j:[[0,0,0,1],[0,0,0,0],[0,0,1,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0]],k:[[1,0,0,0],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1]],l:[[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,0,1,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],"`":[[1,0,0],[0,1,0],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"~":[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],"!":[[1],[1],[1],[1],[1],[0],[1]],"@":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"&":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,0,1,0],[1,1,1,0,1]],"*":[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],"(":[[0,0,1],[0,1,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1]],")":[[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,1],[0,1,0],[1,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"[":[[1,1,1],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,1,1]],"]":[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[1,1,1]],"{":[[0,0,1],[0,1,0],[0,1,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1]],"}":[[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,1,0],[0,1,0],[1,0,0]],"|":[[1],[1],[1],[1],[1],[1],[1]],"\\":[[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"/":[[0,0,1],[0,0,1],[0,1,0],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],";":[[0,0],[0,1],[0,1],[0,0],[0,0],[0,1],[1,0]],'"':[[1,0,1],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"'":[[1,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0]],",":[[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[1,0]],".":[[0],[0],[0],[0],[0],[0],[1]],"<":[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],">":[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]]};function F0(e,n={}){const{dataOnly:t=!1,font:o=_0,x:i=0,y:r=0,fillValue:s}=n,a=typeof s!="undefined",u=e.split("").reduce((f,c)=>{const l=o[c];return W0(f,l)},[]);if(u.length===0&&u.push([]),t){if(!a)return u;let f=this.getEmptyMatrix({fillValue:s});return u.forEach((c,l)=>{c.forEach((g,x)=>{f[l+r][x+i]=g})}),f}this.setData(u,{x:i,y:r,fillValue:s})}function W0(e,n){if(e.length===0)return n;const t=[];return e.forEach((o,i)=>{t.push(o.concat([0]).concat(n[i]))}),t}var G0={name:"print",exec:F0};function j0(e,n,t){return{invert:z0,pad:H0}[e](n,t)}function z0(e){return e.map(n=>n.map(t=>t?0:1))}function H0(e,n={}){const t=Number.isInteger(n.all),o=t?n.all:n.top,i=t?n.all:n.right,r=t?n.all:n.bottom,s=t?n.all:n.left;let a=e.map(f=>{let c=f;return s&&(c=[...Array(s).fill(0),...c]),i&&(c=[...c,...Array(i).fill(0)]),c});const d=a[0].length,u=(f,c)=>{const l=[];for(let g=0;g<f;g++)l.push(Array(c).fill(0));return l};return o&&(a=[...u(o,d),...a]),r&&(a=[...a,...u(r,d)]),a}var K0={name:"dataUtils",exec:j0};const J0=Object.freeze([{top:4,left:2,width:12,height:2},{top:8,left:2,width:12,height:2},{top:12,left:2,width:12,height:2},{top:4,left:18,width:12,height:2},{top:8,left:18,width:12,height:2},{top:12,left:18,width:12,height:2},{top:4,left:34,width:12,height:2},{top:8,left:34,width:12,height:2},{top:12,left:34,width:12,height:2},{top:4,left:50,width:12,height:2},{top:8,left:50,width:12,height:2},{top:12,left:50,width:12,height:2}]);var Q0="/CheckBreaker/assets/cassebriques.c651bcd1.wav",Z0="/CheckBreaker/assets/tnul.933fa78e.wav",e1="/CheckBreaker/assets/boing.89c22d26.wav",t1="/CheckBreaker/assets/crash.73c3aaca.wav",n1="/CheckBreaker/assets/oui.509a03e7.mp3";V.extend(N0);V.extend(G0);V.extend(K0);const O=document.body,r1=document.querySelector("#app"),G=document.getElementById("sound-control"),_=document.getElementById("volume"),Q=document.getElementById("speed"),i1=document.getElementById("reset");G.addEventListener("change",e=>{const n=e.target;v.sound=n.checked,n.checked?_.disabled=!1:_.disabled=!0,p.song.volume=n.checked?1:0,p.gameOverSound.volume=n.checked?1:0,p.boingSound.volume=n.checked?1:0,p.crashSound.volume=n.checked?1:0,p.ouiSound.volume=n.checked?1:0});_.addEventListener("change",e=>{const n=e.target,t=parseFloat(n.value);p.song.volume=t,p.gameOverSound.volume=t,p.boingSound.volume=t,p.crashSound.volume=t,p.ouiSound.volume=t,t===0&&(G.checked=!1)});Q.addEventListener("change",e=>{const n=e.target,t=parseInt(n.value)*-1;Z(t)});i1.addEventListener("click",()=>{Q.value="-70",Z(70)});const Z=e=>{p.interval=e;const n=2.2-(e-20)/50;clearInterval(v.intervalId),v.intervalId=setInterval(t0,p.interval),p.song.playbackRate=n,p.gameOverSound.playbackRate=n,p.boingSound.playbackRate=n,p.crashSound.playbackRate=n,p.ouiSound.playbackRate=n},p={width:64,height:48,interval:70,directionsMap:{ArrowLeft:"left",ArrowRight:"right"},bricks:J0,song:new Audio(Q0),gameOverSound:new Audio(Z0),boingSound:new Audio(e1),crashSound:new Audio(t1),ouiSound:new Audio(n1)},I=new V({dimensions:`${p.width}x${p.height}`,selector:r1}),v={direction:"",paddle:[],ball:[],bricks:[],ballVelocity:{dx:1,dy:1},gameMap:I.getEmptyMatrix(),intervalId:void 0,timeoutId:void 0,sound:G.checked},j=()=>{I.marquee.cleanUp(),a1(),O.addEventListener("keydown",e0)},o1=()=>{v.paddle=[],v.ball=[];const e=p.height-3,n=Math.floor(p.width/2)-6;for(let i=e;i>=e-1;i--)for(let r=n;r<p.width-n;r++)v.paddle.push({x:r,y:i});const t=Math.floor(p.height/2),o=Math.floor(Math.random()*p.width);for(let i=t;i>=t-1;i--)for(let r=o;r<=o+1;r++)v.ball.push({x:r,y:i});p.bricks.forEach((i,r)=>{const{top:s,left:a,width:d,height:u}=i,f=[];for(let c=s;c<s+u;c++)for(let l=a;l<a+d;l++)f.push({x:l,y:c});v.bricks.push({id:r,brick:f})})},a1=()=>{I.print("Bienvenue",{y:2,x:2,fillValue:2}),I.print("dans",{y:12,x:2}),I.print("CheckBreak",{y:22,x:2}),v.timeoutId=setTimeout(()=>{const e=I.print("Appuyez sur une touche pour commencer",{dataOnly:!0}),n=I.dataUtils("pad",e,{top:20});I.marquee(n,{interval:30,repeat:!0})},3e3)},l1=()=>{p.song.pause(),p.song.currentTime=0,p.ouiSound.play(),p.ouiSound.addEventListener("ended",()=>{p.ouiSound.pause(),p.ouiSound.currentTime=0,p.song.play()}),v.gameMap=I.getEmptyMatrix(),z(),O.removeEventListener("keydown",H),clearInterval(v.intervalId),j()},c1=()=>{p.song.pause(),p.song.currentTime=0,p.gameOverSound.play(),p.gameOverSound.addEventListener("ended",()=>{p.gameOverSound.pause(),p.gameOverSound.currentTime=0,p.song.play()}),O.removeEventListener("keydown",H),clearInterval(v.intervalId),v.gameMap=I.getEmptyMatrix(),z(),j()},e0=()=>{o1(),I.marquee.cleanUp(),clearTimeout(v.timeoutId),p.song.loop=!0,p.song.play(),O.removeEventListener("keydown",e0),O.addEventListener("keydown",H),v.intervalId=setInterval(t0,p.interval)},t0=()=>{v.bricks.length===0&&l1(),d1(),s1(),v.direction="",z()},d1=()=>{const e=D(v.paddle);if(v.direction==="left"){if(e.minX===0)return;v.paddle.map(n=>n.x-=2)}if(v.direction==="right"){if(e.maxX===p.width-1)return;v.paddle.map(n=>n.x+=2)}},s1=()=>{const e=D(v.ball),n=D(v.paddle);e.minX<=0&&$("dx"),e.maxX>=p.width-1&&$("dx"),e.minY<=0&&$("dy"),e.maxY===n.minY-1&&e.maxX>=n.minX-1&&e.minX<=n.maxX+1&&($("dy"),e.maxX<=n.minX+4&&(v.ballVelocity.dx=-1),e.maxX<=n.minX+2&&(v.ballVelocity.dx=-2),e.minX>=n.maxX-4&&(v.ballVelocity.dx=1),e.minX>=n.maxX-2&&(v.ballVelocity.dx=2)),v.ballVelocity.dx>=0&&e.maxX===n.minX-1&&e.minY>=n.minY-1&&e.maxY<=n.maxY+1&&$("dx"),v.ballVelocity.dx<=0&&e.minX===n.maxX+1&&e.minY>=n.minY-1&&e.maxY<=n.maxY+1&&$("dx");const t=[...v.bricks];for(let o of t){const i=D(o.brick);if(e.maxY===i.minY-1&&e.maxX>=i.minX-1&&e.minX<=i.maxX+1){P("dy",o.id);break}if(v.ballVelocity.dy<=0&&e.minY===i.maxY+1&&e.maxX>=i.minX-1&&e.minX<=i.maxX+1){P("dy",o.id);break}if(v.ballVelocity.dx>=0&&(e.maxX===i.minX||e.maxX===i.minX-1)&&e.maxY>=i.minY-1&&e.minY<=i.maxY+1){P("dx",o.id);break}if(v.ballVelocity.dx<=0&&(e.minX===i.maxX||e.minX===i.maxX+1)&&e.maxY>=i.minY-1&&e.minY<=i.maxY+1){P("dx",o.id);break}}if(e.maxY===p.height-1)return c1();v.ball.map(o=>{o.x+=v.ballVelocity.dx,o.y+=v.ballVelocity.dy})},z=()=>{v.gameMap=I.getEmptyMatrix(),v.paddle.forEach(e=>{v.gameMap[e.y][e.x]=1}),v.ball.forEach(e=>{v.gameMap[e.y][e.x]=1}),v.bricks.forEach(e=>e.brick.forEach(n=>{v.gameMap[n.y][n.x]=1})),I.setData(v.gameMap)},D=e=>({minX:Math.min(...e.map(n=>n.x)),maxX:Math.max(...e.map(n=>n.x)),minY:Math.min(...e.map(n=>n.y)),maxY:Math.max(...e.map(n=>n.y))}),$=e=>{p.boingSound.currentTime=0,p.boingSound.play(),v.ballVelocity[e]*=-1},P=(e,n)=>{p.crashSound.currentTime=0,p.crashSound.play(),v.ballVelocity[e]*=-1,u1(n)},u1=e=>{v.bricks=v.bricks.filter(n=>n.id!==e)},H=e=>{const n=e.code,t=p.directionsMap[n];t&&(e.preventDefault(),v.direction=t)};j();
