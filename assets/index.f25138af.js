const K=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}};K();class I{constructor(i={}){typeof i.fillValue!="undefined"&&j(i.fillValue),this.dimensions=Z(i.dimensions||"8x8"),this.displayEl=Q(i.selector),this._data=this.getEmptyMatrix({fillValue:i.fillValue||0}),e0(this.displayEl,this._data)}getCheckboxValue(i,t){if(!(i>=0&&t>=0&&i<this.dimensions[0]&&t<this.dimensions[1]))throw new Error(`The location (x: ${i}, y: ${t}) is outside of this checkbox display`);return this._data[t][i]}setCheckboxValue(i,t,o){const r=i>=0&&t>=0&&i<this.dimensions[0]&&t<this.dimensions[1];if(j(o),!r)return;this._data[t][i]=o;const n=this.displayEl.children[t].children[i];if(o===2){if(n.indeterminate)return;n.indeterminate=!0,n.checked=!1}else{if(n.indeterminate&&(n.indeterminate=!1),n.checked===Boolean(o))return;n.checked=Boolean(o)}}getData(){return this._data.map(t=>t.slice())}setData(i,t={}){const{x:o=0,y:r=0,fillValue:n}=t,d=typeof n!="undefined",a=this.dimensions[0],s=this.dimensions[1];J(i);for(let f=0;f<s;f++)for(let h=0;h<a;h++){let c=h<o,l=f<r,v=h>=o+i[0].length,y=f>=r+i.length,x=c||l||v||y;if(x&&!d)continue;let V=x?n:i[f-r][h-o];this.setCheckboxValue(h,f,V)}}clearData(){const i=this.getEmptyMatrix();this.setData(i)}getEmptyMatrix(i={}){const{fillValue:t=0,width:o=this.dimensions[0],height:r=this.dimensions[1]}=i,n=[];for(let d=0;d<r;d++){n[d]=[];for(let a=0;a<o;a++)n[d][a]=t}return n}static extend(i={}){const{name:t,exec:o,cleanUp:r}=i;if(!t||!o)throw new Error('Your plugin must have a "name" and an "exec" function.');r&&(o.cleanUp=r),this.prototype[t]=o}}function j(e){if(!(e===0||e===1||e===2))throw new Error(`${e} is not a valid checkbox value.`)}function J(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new Error(`${e} is not a valid matrix.`)}function Q(e="#checkboxland"){if(e instanceof Element)return e;if(typeof e=="string")return document.querySelector(e);throw new Error("Checkboxland selector is invalid.")}function Z(e){const i="The dimensions you provided are invalid.";if(typeof e!="string")throw new Error(i);const t=e.split("x").map(r=>Number(r));if(!(t.length===2&&!isNaN(t[0])&&!isNaN(t[0])))throw new Error(i);return e.split("x").map(r=>Number(r))}function e0(e,i){e.innerHTML="",e.style.overflowX="auto",e.setAttribute("aria-hidden",!0),i.forEach(t=>{const o=document.createElement("div");o.style.lineHeight=.75,o.style.whiteSpace="nowrap",t.forEach(r=>{const n=document.createElement("input"),d=r===2,a=d?!1:Boolean(r);n.style.margin=0,n.style.verticalAlign="top",n.type="checkbox",n.tabIndex="-1",n.checked=a,n.indeterminate=d,o.appendChild(n)}),e.appendChild(o)})}const t0={"0":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"1":[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],"2":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"3":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"4":[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],"5":[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"6":[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"7":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],"8":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"9":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0]],":":[[0],[1],[0],[0],[0],[1],[0]]," ":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],J:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],S:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],X:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1]],Y:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,1,0],[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],j:[[0,0,0,1],[0,0,0,0],[0,0,1,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0]],k:[[1,0,0,0],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1]],l:[[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,0,1,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],"`":[[1,0,0],[0,1,0],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"~":[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],"!":[[1],[1],[1],[1],[1],[0],[1]],"@":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"&":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,0,1,0],[1,1,1,0,1]],"*":[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],"(":[[0,0,1],[0,1,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1]],")":[[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,1],[0,1,0],[1,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"[":[[1,1,1],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,1,1]],"]":[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[1,1,1]],"{":[[0,0,1],[0,1,0],[0,1,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1]],"}":[[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,1,0],[0,1,0],[1,0,0]],"|":[[1],[1],[1],[1],[1],[1],[1]],"\\":[[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"/":[[0,0,1],[0,0,1],[0,1,0],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],";":[[0,0],[0,1],[0,1],[0,0],[0,0],[0,1],[1,0]],'"':[[1,0,1],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"'":[[1,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0]],",":[[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[1,0]],".":[[0],[0],[0],[0],[0],[0],[1]],"<":[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],">":[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]]};function n0(e,i={}){const{dataOnly:t=!1,font:o=t0,x:r=0,y:n=0,fillValue:d}=i,a=typeof d!="undefined",f=e.split("").reduce((h,c)=>{const l=o[c];return i0(h,l)},[]);if(f.length===0&&f.push([]),t){if(!a)return f;let h=this.getEmptyMatrix({fillValue:d});return f.forEach((c,l)=>{c.forEach((v,y)=>{h[l+n][y+r]=v})}),h}this.setData(f,{x:r,y:n,fillValue:d})}function i0(e,i){if(e.length===0)return i;const t=[];return e.forEach((o,r)=>{t.push(o.concat([0]).concat(i[r]))}),t}var r0={name:"print",exec:n0};let q;function o0(e,i={}){const{interval:t=200,repeat:o=!1,fillValue:r=0,callback:n=()=>{}}=i,d=this.dimensions[1],a=this.dimensions[0],s=a+e[0].length;let f=1;q=setInterval(()=>{const h=this.getData();for(let c=0;c<d;c++)for(let l=0;l<a;l++)if(l+1===a){const y=f-(a-l),x=e[c]?typeof e[c][y]=="undefined"?r:e[c][y]:r;this.setCheckboxValue(l,c,x)}else this.setCheckboxValue(l,c,h[c][l+1]);f===s?o?f=1:(clearInterval(q),n()):f++},t)}function a0(){clearInterval(q)}var l0={name:"marquee",exec:o0,cleanUp:a0};let T;function c0(e,i={}){const{interval:t=200,fillValue:o=0,direction:r="ltr",callback:n=()=>{}}=i,d=this.dimensions[1],a=this.dimensions[0],s=a+1;let f=1;T=setInterval(()=>{let h,c;switch(r){case"ltr":h=f-1,c=h-1;break;case"rtl":h=a-f,c=h+1;break}for(let l=0;l<d;l++)for(let v=0;v<a;v++)if(v===h)this.setCheckboxValue(v,l,1);else if(v===c){let y=e[l]?typeof e[l][v]=="undefined"?o:e[l][v]:o;this.setCheckboxValue(v,l,y)}f===s?(clearInterval(T),n()):f++},t)}function s0(){clearInterval(T)}var d0={name:"transitionWipe",exec:c0,cleanUp:s0};function f0(e,i,t){return{invert:h0,pad:u0}[e](i,t)}function h0(e){return e.map(i=>i.map(t=>t?0:1))}function u0(e,i={}){const t=Number.isInteger(i.all),o=t?i.all:i.top,r=t?i.all:i.right,n=t?i.all:i.bottom,d=t?i.all:i.left;let a=e.map(h=>{let c=h;return d&&(c=[...Array(d).fill(0),...c]),r&&(c=[...c,...Array(r).fill(0)]),c});const s=a[0].length,f=(h,c)=>{const l=[];for(let v=0;v<h;v++)l.push(Array(c).fill(0));return l};return o&&(a=[...f(o,s),...a]),n&&(a=[...a,...f(n,s)]),a}var m0={name:"dataUtils",exec:f0};let N=null,B=null;function g0(e){B=this.displayEl,N=v0.bind(this,e),B.addEventListener("click",N)}function v0(e,i){const t=x0(B,i.target);if(!t)return;const o={x:t.x,y:t.y,checkbox:i.target};if(typeof e=="function")e(o);else if("handleEvent"in e&&typeof e.handleEvent=="function")e.handleEvent(o);else throw new TypeError("Callback should be a function or an EventListener object")}function x0(e,i){for(let t=0;t<e.children.length;t+=1){const o=e.children[t];for(let r=0;r<o.children.length;r+=1)if(o.children[r]===i)return{x:r,y:t}}return null}function y0(){B.removeEventListener("click",N)}var p0={name:"onClick",exec:g0,cleanUp:y0};const S=[[60,136,253],[255,255,255]];function b0({uint8data:e,palette:i=S,step:t=1,h:o,w:r}){for(var n=new Uint8ClampedArray(e),d=3,a=new Array([1,9,3,11],[13,5,15,7],[4,12,2,10],[16,8,14,6]),s,f,h,c,l,v,y,x,V,E,M,k,b=0;b<o;b+=t)for(var w=0;w<r;w+=t)for(c=4*w+4*b*r,s=c,f=c+1,h=c+2,n[s]+=a[w%4][b%4]*d,n[f]+=a[w%4][b%4]*d,n[h]+=a[w%4][b%4]*d,l=new Array(n[s],n[f],n[h]),v=_(l,i),y=v[0],x=v[1],V=v[2],E=0;E<t;E++)for(M=0;M<t;M++)k=c+4*E+4*r*M,n[k]=y,n[k+1]=x,n[k+2]=V;return n}function w0({uint8data:e,palette:i=S,step:t=1,h:o,w:r}){for(var n=new Uint8ClampedArray(e),d=new Uint8ClampedArray(e),a=1/8,s=function(X,$){return 4*X+4*$*r},f,h,c,l,v,y,x,V,E,M,k,b,w,m=0;m<o;m+=t)for(var g=0;g<r;g+=t)for(v=4*g+4*m*r,f=v,h=v+1,c=v+2,y=new Array(n[f],n[h],n[c]),x=_(y,i),l=[],l[f]=n[f]-x[0],l[h]=n[h]-x[1],l[c]=n[c]-x[2],n[s(g+t,m)+0]+=a*l[f],n[s(g-t,m+t)+0]+=a*l[f],n[s(g,m+t)+0]+=a*l[f],n[s(g+t,m+t)+0]+=a*l[f],n[s(g+2*t,m)+0]+=a*l[f],n[s(g,m+2*t)+0]+=a*l[f],n[s(g+t,m)+1]+=a*l[h],n[s(g-t,m+t)+1]+=a*l[h],n[s(g,m+t)+1]+=a*l[h],n[s(g+t,m+t)+1]+=a*l[h],n[s(g+2*t,m)+1]+=a*l[h],n[s(g,m+2*t)+1]+=a*l[h],n[s(g+t,m)+2]+=a*l[c],n[s(g-t,m+t)+2]+=a*l[c],n[s(g,m+t)+2]+=a*l[c],n[s(g+t,m+t)+2]+=a*l[c],n[s(g+2*t,m)+2]+=a*l[c],n[s(g,m+2*t)+2]+=a*l[c],V=x[0],E=x[1],M=x[2],k=0;k<t;k++)for(b=0;b<t;b++)w=v+4*k+4*r*b,d[w]=V,d[w+1]=E,d[w+2]=M;return d}function k0({uint8data:e,palette:i=S,step:t=1,h:o,w:r}){for(var n=new Uint8ClampedArray(e),d=new Uint8ClampedArray(e),a=1/16,s=function(X,$){return 4*X+4*$*r},f,h,c,l,v,y,x,V,E,M,k,b,w,m=0;m<o;m+=t)for(var g=0;g<r;g+=t)for(v=4*g+4*m*r,f=v,h=v+1,c=v+2,y=new Array(n[f],n[h],n[c]),x=_(y,i),l=[],l[f]=n[f]-x[0],l[h]=n[h]-x[1],l[c]=n[c]-x[2],n[s(g+t,m)]=n[s(g+t,m)]+7*a*l[f],n[s(g-t,m+1)]=n[s(g-1,m+t)]+3*a*l[f],n[s(g,m+t)]=n[s(g,m+t)]+5*a*l[f],n[s(g+t,m+t)]=n[s(g+1,m+t)]+1*a*l[f],n[s(g+t,m)+1]=n[s(g+t,m)+1]+7*a*l[h],n[s(g-t,m+t)+1]=n[s(g-t,m+t)+1]+3*a*l[h],n[s(g,m+t)+1]=n[s(g,m+t)+1]+5*a*l[h],n[s(g+t,m+t)+1]=n[s(g+t,m+t)+1]+1*a*l[h],n[s(g+t,m)+2]=n[s(g+t,m)+2]+7*a*l[c],n[s(g-t,m+t)+2]=n[s(g-t,m+t)+2]+3*a*l[c],n[s(g,m+t)+2]=n[s(g,m+t)+2]+5*a*l[c],n[s(g+t,m+t)+2]=n[s(g+t,m+t)+2]+1*a*l[c],V=x[0],E=x[1],M=x[2],k=0;k<t;k++)for(b=0;b<t;b++)w=v+4*k+4*r*b,d[w]=V,d[w+1]=E,d[w+2]=M;return d}function _(e,i){function t(n,d){return Math.sqrt(Math.pow(n[0]-d[0],2)+Math.pow(n[1]-d[1],2)+Math.pow(n[2]-d[2],2))}function o(n,d,a,s){if(a.length==2)return n(d,s)<=n(d,a[1])?s:a[1];var f=a.slice(1);return n(d,s)<=n(d,a[1])?s=s:s=a[1],o(n,d,f,s)}var r=o(t,e,i,i[0]);return r}function V0(e,i){const t=(r,n,d)=>.21*r+.72*n+.07*d,o=i/100*255;for(let r=0;r<e.length;r+=4){const n=e[r],d=e[r+1],a=e[r+2],f=t(n,d,a)>o?255:0;e[r]=f,e[r+1]=f,e[r+2]=f}return e}function E0(e,i,t){const o=i.width,r=i.height,n=i.data,d=[0,-1,0,-1,5,-1,0,-1,0],a=Math.round(Math.sqrt(d.length)),s=a*.5|0,h=e.createImageData(o,r).data;for(let c=r;c>=0;c--)for(let l=o;l>=0;l--){const v=c,y=l,x=(c*o+l)*4;let V=0,E=0,M=0,k=0;for(let b=0;b<a;b++)for(let w=0;w<a;w++){const m=v+b-s,g=y+w-s;if(m>=0&&m<r&&g>=0&&g<o){const X=(m*o+g)*4,$=d[b*a+w];V+=n[X]*$,E+=n[X+1]*$,M+=n[X+2]*$,k+=n[X+3]*$}}h[x]=V*t+n[x]*(1-t),h[x+1]=E*t+n[x+1]*(1-t),h[x+2]=M*t+n[x+2]*(1-t),h[x+3]=n[x+3]}for(let c=r;c>=0;c--){const v=(c*o+0)*4;h[v]=n[v],h[v+1]=n[v+1],h[v+2]=n[v+2],h[v+3]=n[v+3]}return h}let A,P;function L(e,i={},t){A||(A=document.createElement("canvas"),P=A.getContext("2d")),A.width=t.dimensions[0],A.height=t.dimensions[1],P.fillStyle="white",P.fillRect(0,0,A.width,A.height);const[o,r]=M0(e),[n,d]=C0(o,r,A.width,A.height);P.drawImage(e,0,0,n,d);const a=I0(P,n,d,i),s=A0(a);t.setData(s,i)}function M0(e){let i=0,t=0;switch(e.tagName){case"IMG":i=e.width,t=e.height;break;case"VIDEO":i=e.videoWidth,t=e.videoHeight;break}return[i,t]}function C0(e,i,t,o){const r=i/o,n=e/t;if(r<1&&n<1)return[e,i];const d=()=>[Math.floor(e*o/i),o],a=()=>{const s=Math.floor(i*t/e);return[t,s]};return r>n?d():a()}function I0(e,i,t,o){const{threshold:r=50,dithering:n="none"}=o;let d=e.getImageData(0,0,i,t),a;const s={ordered:b0,atkinson:w0,errorDiffusion:k0};return n==="none"?a=V0(d.data,r):(a=E0(e,d,r/100),a=s[n]({uint8data:a,w:i,h:t})),d.data.set(a),d}function A0(e){const i=[],t=e.width;for(let o=0;o<e.data.length;o+=4){const r=o/4,n=Math.floor(r/t),d=r%t;d===0&&(i[n]=[]),i[n][d]=e.data[o]===255?0:1}return i}function X0(e,i){const t=this;let o;typeof e=="string"?(o=new Image,o.crossOrigin="anonymous",o.addEventListener("load",()=>L(o,i,t),{once:!0}),o.src=e):typeof e=="object"&&(e.complete?L(e,i,t):e.addEventListener("load",()=>L(e,i,t),{once:!0}))}var $0={name:"renderImage",exec:X0};let z;function P0(e,i){const t=this;let o;typeof e=="string"?(o=document.createElement("video"),o.loop=!0,o.controls=!0,o.autoplay=!0,o.muted=!0,o.crossOrigin="anonymous",o.addEventListener("loadeddata",()=>{o.play(),D(o,i,t)},{once:!0}),o.src=e):typeof e=="object"&&(e.readyState===4?D(e,i,t):e.addEventListener("loadeddata",()=>D(e,i,t),{once:!0}))}function D(e,i,t){L(e,i,t),z=requestAnimationFrame(()=>D(e,i,t))}function O0(){cancelAnimationFrame(z)}var Y0={name:"renderVideo",exec:P0,cleanUp:O0};I.extend(r0);I.extend(l0);I.extend(d0);I.extend(m0);I.extend(p0);I.extend($0);I.extend(Y0);let R;function L0(e,i={}){const{interval:t=200,repeat:o=!1,fillValue:r=0,callback:n=()=>{}}=i,d=this.dimensions[1],a=this.dimensions[0],s=a+e[0].length;let f=1;R=setInterval(()=>{const h=this.getData();for(let c=0;c<d;c++)for(let l=0;l<a;l++)if(l+1===a){const y=f-(a-l),x=e[c]?typeof e[c][y]=="undefined"?r:e[c][y]:r;this.setCheckboxValue(l,c,x)}else this.setCheckboxValue(l,c,h[c][l+1]);f===s?o?f=1:(clearInterval(R),n()):f++},t)}function D0(){clearInterval(R)}var U0={name:"marquee",exec:L0,cleanUp:D0};const B0={"0":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"1":[[0,1,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],"2":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],"3":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"4":[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1]],"5":[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"6":[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"7":[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],"8":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],"9":[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0]],":":[[0],[1],[0],[0],[0],[1],[0]]," ":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],A:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1]],B:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],C:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],D:[[1,1,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0]],E:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],F:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],G:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],H:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],I:[[1,1,1],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],J:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0]],K:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1]],L:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],M:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],N:[[1,0,0,0,1],[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1]],O:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],P:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],Q:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1]],R:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],S:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,0]],T:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],U:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],V:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],W:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],X:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1]],Y:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],Z:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1]],a:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,1,1,1,1]],b:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0]],c:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0]],d:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1]],e:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0]],f:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0]],g:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],h:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],i:[[0,1,0],[0,0,0],[1,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],j:[[0,0,0,1],[0,0,0,0],[0,0,1,1],[0,0,0,1],[0,0,0,1],[1,0,0,1],[0,1,1,0]],k:[[1,0,0,0],[1,0,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,1,0],[1,0,0,1]],l:[[1,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[0,1,0],[1,1,1]],m:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1]],n:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1]],o:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0]],p:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0]],q:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1]],r:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0]],s:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0]],t:[[0,1,0,0,0],[0,1,0,0,0],[1,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,0,1,1,0]],u:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1]],v:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],w:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0]],x:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],y:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0]],z:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1]],"`":[[1,0,0],[0,1,0],[0,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"~":[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],"!":[[1],[1],[1],[1],[1],[0],[1]],"@":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,1,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0]],"#":[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0]],$:[[0,0,1,0,0],[0,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,1,0,0]],"%":[[1,1,0,0,1],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[1,0,0,1,1]],"^":[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],"&":[[0,1,1,0,0],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,0,1,0],[1,1,1,0,1]],"*":[[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],"(":[[0,0,1],[0,1,0],[1,0,0],[1,0,0],[1,0,0],[0,1,0],[0,0,1]],")":[[1,0,0],[0,1,0],[0,0,1],[0,0,1],[0,0,1],[0,1,0],[1,0,0]],"-":[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1]],"+":[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],"=":[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],"[":[[1,1,1],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,0,0],[1,1,1]],"]":[[1,1,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[0,0,1],[1,1,1]],"{":[[0,0,1],[0,1,0],[0,1,0],[1,0,0],[0,1,0],[0,1,0],[0,0,1]],"}":[[1,0,0],[0,1,0],[0,1,0],[0,0,1],[0,1,0],[0,1,0],[1,0,0]],"|":[[1],[1],[1],[1],[1],[1],[1]],"\\":[[1,0,0],[1,0,0],[0,1,0],[0,1,0],[0,1,0],[0,0,1],[0,0,1]],"/":[[0,0,1],[0,0,1],[0,1,0],[0,1,0],[0,1,0],[1,0,0],[1,0,0]],";":[[0,0],[0,1],[0,1],[0,0],[0,0],[0,1],[1,0]],'"':[[1,0,1],[1,0,1],[1,0,1],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],"'":[[1,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0]],",":[[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[1,0]],".":[[0],[0],[0],[0],[0],[0],[1]],"<":[[0,0,0],[0,0,1],[0,1,0],[1,0,0],[0,1,0],[0,0,1],[0,0,0]],">":[[0,0,0],[1,0,0],[0,1,0],[0,0,1],[0,1,0],[1,0,0],[0,0,0]],"?":[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0]]};function q0(e,i={}){const{dataOnly:t=!1,font:o=B0,x:r=0,y:n=0,fillValue:d}=i,a=typeof d!="undefined",f=e.split("").reduce((h,c)=>{const l=o[c];return T0(h,l)},[]);if(f.length===0&&f.push([]),t){if(!a)return f;let h=this.getEmptyMatrix({fillValue:d});return f.forEach((c,l)=>{c.forEach((v,y)=>{h[l+n][y+r]=v})}),h}this.setData(f,{x:r,y:n,fillValue:d})}function T0(e,i){if(e.length===0)return i;const t=[];return e.forEach((o,r)=>{t.push(o.concat([0]).concat(i[r]))}),t}var N0={name:"print",exec:q0};function R0(e,i,t){return{invert:S0,pad:_0}[e](i,t)}function S0(e){return e.map(i=>i.map(t=>t?0:1))}function _0(e,i={}){const t=Number.isInteger(i.all),o=t?i.all:i.top,r=t?i.all:i.right,n=t?i.all:i.bottom,d=t?i.all:i.left;let a=e.map(h=>{let c=h;return d&&(c=[...Array(d).fill(0),...c]),r&&(c=[...c,...Array(r).fill(0)]),c});const s=a[0].length,f=(h,c)=>{const l=[];for(let v=0;v<h;v++)l.push(Array(c).fill(0));return l};return o&&(a=[...f(o,s),...a]),n&&(a=[...a,...f(n,s)]),a}var F0={name:"dataUtils",exec:R0};const W0=Object.freeze([{top:2,left:2,width:12,height:2},{top:6,left:2,width:12,height:2},{top:10,left:2,width:12,height:2},{top:2,left:18,width:12,height:2},{top:6,left:18,width:12,height:2},{top:10,left:18,width:12,height:2},{top:2,left:34,width:12,height:2},{top:6,left:34,width:12,height:2},{top:10,left:34,width:12,height:2},{top:2,left:50,width:12,height:2},{top:6,left:50,width:12,height:2},{top:10,left:50,width:12,height:2}]);var G0="/CheckBreaker/assets/cassebriques.c651bcd1.wav",j0="/CheckBreaker/assets/tnul.933fa78e.wav";I.extend(U0);I.extend(N0);I.extend(F0);const O=document.body,z0=document.querySelector("#app"),p={width:64,height:64,interval:70,directionsMap:{ArrowLeft:"left",ArrowRight:"right"},bricks:W0,song:new Audio(G0),gameOverSound:new Audio(j0)},C=new I({dimensions:`${p.width}x${p.height}`,selector:z0}),u={direction:"",paddle:[],ball:[],bricks:[],ballVelocity:{dx:1,dy:1},gameMap:C.getEmptyMatrix(),intervalId:void 0,timeoutId:void 0},F=()=>{K0(),O.addEventListener("keydown",H)},H0=()=>{u.paddle=[],u.ball=[];const e=p.height-3,i=Math.floor(p.width/2)-6;for(let r=e;r>=e-1;r--)for(let n=i;n<p.width-i;n++)u.paddle.push({x:n,y:r});const t=p.height-Math.floor(Math.random()*(p.height/3+16)),o=Math.floor(Math.random()*p.width);for(let r=t;r>=t-1;r--)for(let n=o;n<=o+1;n++)u.ball.push({x:n,y:r});p.bricks.forEach((r,n)=>{const{top:d,left:a,width:s,height:f}=r,h=[];for(let c=d;c<d+f;c++)for(let l=a;l<a+s;l++)h.push({x:l,y:c});u.bricks.push({id:n,brick:h})})},K0=()=>{C.print("Bienvenue",{y:2,x:2,fillValue:2}),C.print("dans",{y:12,x:2}),C.print("CheckBreak",{y:22,x:2}),u.timeoutId=setTimeout(()=>{const e=C.print("Appuyez sur une touche pour commencer",{dataOnly:!0}),i=C.dataUtils("pad",e,{top:20});C.marquee(i,{interval:30,repeat:!0})},3e3)},J0=()=>{u.gameMap=C.getEmptyMatrix(),W(),O.removeEventListener("keydown",G),clearInterval(u.intervalId),F()},Q0=()=>{p.song.pause(),p.song.currentTime=0,p.gameOverSound.play(),p.gameOverSound.addEventListener("ended",()=>{p.gameOverSound.pause(),p.gameOverSound.currentTime=0,p.song.play()}),O.removeEventListener("keydown",G),clearInterval(u.intervalId),u.gameMap=C.getEmptyMatrix(),W(),F()},H=()=>{H0(),C.marquee.cleanUp(),clearTimeout(u.timeoutId),p.song.loop=!0,p.song.play(),O.removeEventListener("keydown",H),O.addEventListener("keydown",G),u.intervalId=setInterval(Z0,p.interval)},Z0=()=>{u.bricks.length===0&&J0(),e1(),t1(),u.direction="",W()},e1=()=>{const e=U(u.paddle);if(u.direction==="left"){if(e.minX===0)return;u.paddle.map(i=>i.x-=2)}if(u.direction==="right"){if(e.maxX===p.width-1)return;u.paddle.map(i=>i.x+=2)}},t1=()=>{const e=U(u.ball),i=U(u.paddle);e.minX===0&&(u.ballVelocity.dx*=-1),e.maxX===p.width-1&&(u.ballVelocity.dx*=-1),e.minY===0&&(u.ballVelocity.dy*=-1),u.ballVelocity.dx===-2&&e.minX===1&&(u.ballVelocity.dx*=-1),u.ballVelocity.dx===2&&e.maxX===p.width-2&&(u.ballVelocity.dx*=-1),e.maxY===i.minY-1&&e.minX>=i.minX-1&&e.maxX<=i.maxX+1&&(u.ballVelocity.dy*=-1,e.maxX<=i.minX+4&&(u.ballVelocity.dx=-1),e.maxX<=i.minX+2&&(u.ballVelocity.dx=-2),e.minX>=i.maxX-4&&(u.ballVelocity.dx=1),e.minX>=i.maxX-2&&(u.ballVelocity.dx=2)),u.ballVelocity.dx>=0&&e.maxX===i.minX-1&&e.minY>=i.minY-1&&e.maxY<=i.maxY+1&&(u.ballVelocity.dx*=-1),u.ballVelocity.dx<=0&&e.minX===i.maxX+1&&e.minY>=i.minY-1&&e.maxY<=i.maxY+1&&(u.ballVelocity.dx*=-1);const t=[...u.bricks];for(let o of t){const r=U(o.brick);if(e.maxY===r.minY-1&&e.minX>=r.minX-1&&e.maxX<=r.maxX+1){Y(o.id),u.ballVelocity.dy*=-1;break}if(u.ballVelocity.dy<=0&&e.minY===r.maxY+1&&e.minX>=r.minX-1&&e.maxX<=r.maxX+1){Y(o.id),u.ballVelocity.dy*=-1;break}if(u.ballVelocity.dx>=0&&e.maxX===r.minX-1&&e.minY>=r.minY-1&&e.maxY<=r.maxY+1){Y(o.id),u.ballVelocity.dx*=-1;break}if(u.ballVelocity.dx<=0&&e.minX===r.maxX+1&&e.minY>=r.minY-1&&e.maxY<=r.maxY+1){Y(o.id),u.ballVelocity.dx*=-1;break}}if(e.maxY===p.height-1)return Q0();u.ball.map(o=>{o.x+=u.ballVelocity.dx,o.y+=u.ballVelocity.dy})},W=()=>{u.gameMap=C.getEmptyMatrix(),u.paddle.forEach(e=>{u.gameMap[e.y][e.x]=1}),u.ball.forEach(e=>{u.gameMap[e.y][e.x]=1}),u.bricks.forEach(e=>e.brick.forEach(i=>{u.gameMap[i.y][i.x]=1})),C.setData(u.gameMap)},U=e=>({minX:Math.min(...e.map(i=>i.x)),maxX:Math.max(...e.map(i=>i.x)),minY:Math.min(...e.map(i=>i.y)),maxY:Math.max(...e.map(i=>i.y))}),Y=e=>{u.bricks=u.bricks.filter(i=>i.id!==e)},G=e=>{const i=e.code,t=p.directionsMap[i];t&&(e.preventDefault(),u.direction=t)};F();
